# ========================================================
# atdp
# ========================================================

- job: ./atdp-1.json
  tool: ../tools/atdp.cwl
  output:
    result_file:
      class: File
      location: atdp_res.tsv
      size: 76938
    log_file:
      class: File
      location: atdp_res.log
      size: 95

- job: ./atdp-2.json
  tool: ../tools/atdp.cwl
  output:
    result_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_atdp.tsv
      size: 76953
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_atdp.log
      size: 95

- job: ./atdp-3.json
  tool: ../tools/atdp.cwl
  output:
    result_file:
      class: File
      location: atdp_res.tsv
      size: 76953
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_atdp.log
      size: 95

- job: ./atdp-4.json
  tool: ../tools/atdp.cwl
  output:
    result_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_atdp.tsv
      size: 76953
    log_file:
      class: File
      location: atdp_res.log
      size: 95

# ========================================================
# bam-bedgraph-bigwig
# ========================================================

- job: ./bam-bedgraph-bigwig-1.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 4986
    bigwig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bigWig
      size: 33486

- job: ./bam-bedgraph-bigwig-2.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: result.bedGraph
      size: 6426
    bigwig_file:
      class: File
      location: result.bigWig
      size: 33653

- job: ./bam-bedgraph-bigwig-3.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: result
      size: 6426
    bigwig_file:
      class: File
      location: result.bigWig
      size: 33653

- job: ./bam-bedgraph-bigwig-4.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: coverage
      size: 6426
    bigwig_file:
      class: File
      location: bin_coverage
      size: 33653

- job: ./bam-bedgraph-bigwig-5.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 5826
    bigwig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bigWig
      size: 33500

- job: ./bam-bedgraph-bigwig-6.json
  tool: ../tools/bam-bedgraph-bigwig.cwl
  output:
    bedgraph_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 4986
    bigwig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bigWig
      size: 33486

# ========================================================
# bamtools-stats
# ========================================================

- job: ./bamtools-stats-1.json
  tool: ../tools/bamtools-stats.cwl
  output:
    log_file:
      class: File
      location: stats.log
      size: 442
    duplicate_reads_number: 0
    reverse_strand_reads_number: 94
    forward_strand_reads_number: 94
    pairedend_reads_number: 188
    failed_QC_reads_number: 0
    total_reads_number: 188
    mapped_reads_number: 188

# ========================================================
# bedtools-genomecov
# ========================================================

- job: ./bedtools-genomecov-1.json
  tool: ../tools/bedtools-genomecov.cwl
  output:
    genome_coverage_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 5826

- job: ./bedtools-genomecov-2.json
  tool: ../tools/bedtools-genomecov.cwl
  output:
    genome_coverage_file:
      class: File
      location: results.bed
      size: 5826

- job: ./bedtools-genomecov-3.json
  tool: ../tools/bedtools-genomecov.cwl
  output:
    genome_coverage_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.tab
      size: 440

- job: ./bedtools-genomecov-4.json
  tool: ../tools/bedtools-genomecov.cwl
  output:
    genome_coverage_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 9435

- job: ./bedtools-genomecov-5.json
  tool: ../tools/bedtools-genomecov.cwl
  output:
    genome_coverage_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 7755

# ========================================================
# bowtie-alignreads
# ========================================================

- job: ./bowtie-alignreads-1.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file: null
    refout_file:
    - class: File
      location: ref00000.map
      size: 13128
    log_file:
      class: File
      location: upstream.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125


- job: ./bowtie-alignreads-2.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file: null
    refout_file:
    - class: File
      location: ref00000.map
      size: 13128
    log_file:
      class: File
      location: upstream.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125


- job: ./bowtie-alignreads-3.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file: null
    refout_file:
    - class: File
      location: ref00000.map
      size: 13128
    log_file:
      class: File
      location: dummy.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125

- job: ./bowtie-alignreads-4.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 4326
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 11089
    multimapped_fastq: null
    sam_file: null
    refout_file:
    - class: File
      location: ref00000.map
      size: 5411
    log_file:
      class: File
      location: dummy.bw
    mapped_reads_number: 35
    unmapped_reads_number: 90
    total_reads_number: 125

- job: ./bowtie-alignreads-5.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file:
      class: File
      location: upstream.sam
      size: 20562
    refout_file: null
    log_file:
      class: File
      location: upstream.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125

- job: ./bowtie-alignreads-6.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file:
      class: File
      location: result.sam
      size: 20562
    refout_file: null
    log_file:
      class: File
      location: result.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125

- job: ./bowtie-alignreads-7.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq: null
    unaligned_fastq: null
    multimapped_fastq: null
    sam_file:
      class: File
      location: result
      size: 20562
    refout_file: null
    log_file:
      class: File
      location: result.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125

- job: ./bowtie-alignreads-8.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq: null
    unaligned_fastq: null
    multimapped_fastq: null
    sam_file:
      class: File
      location: upstream.sam
      size: 37941
    refout_file: null
    log_file:
      class: File
      location: upstream.bw
    mapped_reads_number: 30
    unmapped_reads_number: 95
    total_reads_number: 125

- job: ./bowtie-alignreads-9.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned.fastq
      size: 11626
    unaligned_fastq:
    - class: File
      location: unaligned.fastq
      size: 3789
    multimapped_fastq: null
    sam_file:
      class: File
      location: result.sam
      size: 20562
    refout_file: null
    log_file:
      class: File
      location: result.bw
    mapped_reads_number: 94
    unmapped_reads_number: 31
    total_reads_number: 125


- job: ./bowtie-alignreads-10.json
  tool: ../tools/bowtie-alignreads.cwl
  output:
    aligned_fastq:
    - class: File
      location: aligned_1.fastq
      size: 3709
    - class: File
      location: aligned_2.fastq
      size: 3709
    unaligned_fastq:
    - class: File
      location: unaligned_1.fastq
      size: 11706
    - class: File
      location: unaligned_2.fastq
      size: 11706
    multimapped_fastq: null
    sam_file:
      class: File
      location: result.sam
      size: 37941
    refout_file: null
    log_file:
      class: File
      location: result.bw
    mapped_reads_number: 30
    unmapped_reads_number: 95
    total_reads_number: 125


# ========================================================
# bowtie-build
# ========================================================

- job: ./bowtie-build-1.json
  tool: ../tools/bowtie-build.cwl
  output:
    indices_folder:
      class: Directory
      basename: dm3_chr4
      listing:
      - class: File
        location: dm3_chr4.1.ebwt
        size: 4580786
      - class: File
        location: dm3_chr4.2.ebwt
        size: 42248
      - class: File
        location: dm3_chr4.3.ebwt
        size: 26
      - class: File
        location: dm3_chr4.4.ebwt
        size: 337940
      - class: File
        location: dm3_chr4.rev.1.ebwt
        size: 4580786
      - class: File
        location: dm3_chr4.rev.2.ebwt
        size: 42248
    stdout_log:
      class: File
      location: bowtie_stdout.log
    stderr_log:
      class: File
      location: bowtie_stderr.log

# ========================================================
# bzip2-compress
# ========================================================

- job: ./bzip2-compress-1.json
  tool: ../tools/bzip2-compress.cwl
  output:
    output_file:
      class: File
      location: upstream.fastq.bz2
      size: 3454

# ========================================================
# extract-fastq
# ========================================================

- job: ./extract-fastq-1.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-2.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-3.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-4.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-5.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-6.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream.fastq
      size: 15415

- job: ./extract-fastq-7.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream.fastq
      size: 30830

- job: ./extract-fastq-8.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream.fastq
      size: 30830

- job: ./extract-fastq-9.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream.fastq
      size: 30830

- job: ./extract-fastq-10.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream.fastq
      size: 30830

- job: ./extract-fastq-11.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream.fastq
      size: 30830

- job: ./extract-fastq-12.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_upstream.fastq
      size: 30830

- job: ./extract-fastq-13.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_upstream.fastq
      size: 30830

- job: ./extract-fastq-14.json
  tool: ../tools/extract-fastq.cwl
  output:
    fastq_file:
      class: File
      location: upstream_downstream_upstream.fastq
      size: 46245

# ========================================================
# fastqc
# ========================================================

- job: ./fastqc-1.json
  tool: ../tools/fastqc.cwl
  output:
    summary_file:
      class: File
      location: summary.txt
      size: 472
    zipped_file:
      class: File
      location: upstream_fastqc.zip
    html_file:
      class: File
      location: upstream_fastqc.html

- job: ./fastqc-2.json
  tool: ../tools/fastqc.cwl
  output:
    summary_file:
      class: File
      location: summary.txt
      size: 725
    zipped_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fastqc.zip
    html_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fastqc.html

- job: ./fastqc-3.json
  tool: ../tools/fastqc.cwl
  output:
    summary_file:
      class: File
      location: summary.txt
      size: 725
    zipped_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fastqc.zip
    html_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fastqc.html

# ========================================================
# fastqc-results-trigger
# ========================================================

- job: ./fastqc-results-trigger-1.json
  tool: ../tools/fastqc-results-trigger.cwl
  output:
    trigger: false

- job: ./fastqc-results-trigger-2.json
  tool: ../tools/fastqc-results-trigger.cwl
  output:
    trigger: true

- job: ./fastqc-results-trigger-3.json
  tool: ../tools/fastqc-results-trigger.cwl
  output:
    trigger: false

- job: ./fastqc-results-trigger-4.json
  tool: ../tools/fastqc-results-trigger.cwl
  output:
    trigger: false

- job: ./fastqc-results-trigger-5.json
  tool: ../tools/fastqc-results-trigger.cwl
  output:
    trigger: true

# ========================================================
# fastx-quality-stats
# ========================================================

- job: ./fastx-quality-stats-1.json
  tool: ../tools/fastx-quality-stats.cwl
  output:
    statistics_file:
      class: File
      location: upstream.fastxstat
      size: 2255

- job: ./fastx-quality-stats-2.json
  tool: ../tools/fastx-quality-stats.cwl
  output:
    statistics_file:
      class: File
      location: results.stat
      size: 2255

# ========================================================
# files-to-folder
# ========================================================

- job: ./files-to-folder-1.json
  tool: ../tools/files-to-folder.cwl
  output:
    folder:
      class: Directory
      listing:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam
        size: 11034
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

- job: ./files-to-folder-2.json
  tool: ../tools/files-to-folder.cwl
  output:
    folder:
      class: Directory
      listing:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam
        size: 11034
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368
      - class: File
        location: dm3_chr4.tsv
        size: 76090
      - class: File
        location: chr4.fa
        size: 1378901

# ========================================================
# geep
# ========================================================

- job: ./geep-1.json
  tool: ../tools/geep.cwl
  output:
    isoforms_file:
      class: File
      location: res_isoforms.csv
      size: 14315
    genes_file:
      class: File
      location: res_genes.csv
      size: 7224
    log_file: null
    raw_file:
      class: File
      location: res_raw.txt
      size: 15167

- job: ./geep-2.json
  tool: ../tools/geep.cwl
  output:
    isoforms_file:
      class: File
      location: res_external_bai_isoforms.csv
      size: 14315
    genes_file:
      class: File
      location: res_external_bai_genes.csv
      size: 7224
    log_file: null
    raw_file:
      class: File
      location: res_external_bai_raw.txt
      size: 15167

- job: ./geep-3.json
  tool: ../tools/geep.cwl
  output:
    isoforms_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.isoforms.csv
      size: 14315
    genes_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.genes.csv
      size: 7224
    log_file: null
    raw_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.raw.txt
      size: 15167

- job: ./geep-4.json
  tool: ../tools/geep.cwl
  output:
    isoforms_file:
      class: File
      location: res_isoforms.csv
      size: 14365
    genes_file:
      class: File
      location: res_genes.csv
      size: 7221
    log_file: null
    raw_file:
      class: File
      location: res_raw.txt
      size: 15239

- job: ./geep-5.json
  tool: ../tools/geep.cwl
  output:
    isoforms_file:
      class: File
      location: res_isoforms.csv
      size: 14407
    genes_file:
      class: File
      location: res_genes.csv
      size: 7203
    log_file: null
    raw_file:
      class: File
      location: res_raw.txt 
      size: 15221

# ========================================================
# get-file-by-name
# ========================================================

- job: ./get-file-by-name-1.json
  tool: ../tools/get-file-by-name.cwl
  output:
    selected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam.bai
      size: 1368

- job: ./get-file-by-name-2.json
  tool: ../tools/get-file-by-name.cwl
  output:
    selected_file:
      class: File
      location: dm3_chr4.chrlist
      size: 13

- job: ./get-file-by-name-3.json
  tool: ../tools/get-file-by-name.cwl
  output:
    selected_file: null

- job: ./get-file-by-name-4.json
  tool: ../tools/get-file-by-name.cwl
  output:
    selected_file: null

# ========================================================
# iaintersect
# ========================================================

- job: ./iaintersect-1.json
  tool: ../tools/iaintersect.cwl
  output:
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks_iaintersect.log
      size: 0
    result_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks_iaintersect.tsv
      size: 1837

- job: ./iaintersect-2.json
  tool: ../tools/iaintersect.cwl
  output:
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks_iaintersect.log
      size: 0
    result_file:
      class: File
      location: iaintersect_res.tsv
      size: 1837

- job: ./iaintersect-3.json
  tool: ../tools/iaintersect.cwl
  output:
    log_file:
      class: File
      location: iaintersect_res.log
      size: 0
    result_file:
      class: File
      location: iaintersect_res.tsv
      size: 1837

- job: ./iaintersect-4.json
  tool: ../tools/iaintersect.cwl
  output:
    log_file:
      class: File
      location: iaintersect_res.log
      size: 0
    result_file:
      class: File
      location: iaintersect_res.tsv
      size: 1906

# ========================================================
# linux-sort
# ========================================================

- job: ./linux-sort-1.json
  tool: ../tools/linux-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bedGraph
      size: 3282

- job: ./linux-sort-2.json
  tool: ../tools/linux-sort.cwl
  output:
    sorted_file:
      class: File
      location: sorted.bed
      size: 3282

# ========================================================
# macs2-callpeak-biowardrobe-only
# ========================================================

- job: ./macs2-callpeak-biowardrobe-only-1.json
  tool: ../tools/macs2-callpeak-biowardrobe-only.cwl
  output:
    macs2_stat_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fragment_stat.tsv
      size: 13
    broad_peak_file: null
    peak_xls_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.xls
    macs2_fragments_expected: 10080
    macs2_islands: 8
    narrow_peak_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 799
    macs2_fragments_calculated: 10080
    peak_summits_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_summits.bed
      size: 584
    treat_pileup_bdg_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    macs_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs.log
    moder_r_file: null

- job: ./macs2-callpeak-biowardrobe-only-2.json
  tool: ../tools/macs2-callpeak-biowardrobe-only.cwl
  output:
    macs2_stat_file:
      class: File
      location: results_fragment_stat.tsv
      size: 13
    broad_peak_file: null
    peak_xls_file:
      class: File
      location: results_peaks.xls
    macs2_fragments_expected: 10080
    macs2_islands: 8
    narrow_peak_file:
      class: File
      location: results_peaks.narrowPeak
      size: 551
    macs2_fragments_calculated: 10080
    peak_summits_file:
      class: File
      location: results_summits.bed
      size: 336
    treat_pileup_bdg_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    macs_log:
      class: File
      location: results.log
    moder_r_file: null

- job: ./macs2-callpeak-biowardrobe-only-3.json
  tool: ../tools/macs2-callpeak-biowardrobe-only.cwl
  output:
    macs2_stat_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_fragment_stat.tsv
      size: 13
    broad_peak_file: null
    peak_xls_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.xls
    macs2_fragments_expected: 10080
    macs2_islands: 8
    narrow_peak_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 799
    macs2_fragments_calculated: 10080
    peak_summits_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_summits.bed
      size: 584
    treat_pileup_bdg_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    macs_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs.log
    moder_r_file: null

# ========================================================
# python-get-stat-chipseq
# ========================================================

- job: ./python-get-stat-chipseq-1.json
  tool: ../tools/python-get-stat-chipseq.cwl
  output:
    output_file:
      class: File
      location: upstream.stat
      size: 11
    formatted_output_file:
      class: File
      location: upstream_stats.tsv
      size: 67
    mapped_reads: 31
    suppressed_reads: 0
    total_reads: 125
    used_reads: 94
    
- job: ./python-get-stat-chipseq-2.json
  tool: ../tools/python-get-stat-chipseq.cwl
  output:
    output_file:
      class: File
      location: result.txt
      size: 11
    formatted_output_file:
      class: File
      location: upstream_stats.tsv
      size: 67
    mapped_reads: 31
    suppressed_reads: 0
    total_reads: 125
    used_reads: 94

- job: ./python-get-stat-chipseq-3.json
  tool: ../tools/python-get-stat-chipseq.cwl
  output:
    output_file:
      class: File
      location: result.txt
      size: 11
    formatted_output_file:
      class: File
      location: result_formatted.tsv
      size: 67
    mapped_reads: 31
    suppressed_reads: 0
    total_reads: 125
    used_reads: 94

# ========================================================
# python-get-stat-rnaseq
# ========================================================

- job: ./python-get-stat-rnaseq-1.json
  tool: ../tools/python-get-stat-rnaseq.cwl
  output:
    output_file:
      class: File
      location: chr4_100_mapped_reads.stat
      size: 13
    formatted_output_file:
      class: File
      location: chr4_100_mapped_reads_stats.tsv
      size: 107
    mapped_reads: 94
    multimapped_reads: 5
    ribo_reads: 0
    total_reads: 125
    used_reads: 67
    
- job: ./python-get-stat-rnaseq-2.json
  tool: ../tools/python-get-stat-rnaseq.cwl
  output:
    output_file:
      class: File
      location: result.txt
      size: 14
    formatted_output_file:
      class: File
      location: chr4_100_mapped_reads_stats.tsv
      size: 109
    mapped_reads: 94
    multimapped_reads: 5
    ribo_reads: 0
    total_reads: 125
    used_reads: 135
  doc: We use pair-end, but treat it as single-end, so the output has not correct read numbers from biological point of view

- job: ./python-get-stat-rnaseq-3.json
  tool: ../tools/python-get-stat-rnaseq.cwl
  output:
    output_file:
      class: File
      location: result.txt
      size: 14
    formatted_output_file:
      class: File
      location: result_formatted.tsv
      size: 109
    mapped_reads: 94
    multimapped_reads: 5
    ribo_reads: 0
    total_reads: 125
    used_reads: 135
  doc: We use pair-end, but treat it as single-end, so the output has not correct read numbers from biological point of view

# ========================================================
# rename
# ========================================================

- job: ./rename-1.json
  tool: ../tools/rename.cwl
  output:
    target_file:
      class: File
      location: mapped_reads.Aligned.out.bam
      size: 11034

- job: ./rename-2.json
  tool: ../tools/rename.cwl
  output:
    target_file:
      class: File
      location: renamed.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: renamed.bam.bai
        size: 1368

- job: ./rename-3.json
  tool: ../tools/rename.cwl
  output:
    target_file: null

# ========================================================
# rsem-calculate-expression
# ========================================================

- job: ./rsem-calculate-expression-1.json
  tool: ../tools/rsem-calculate-expression.cwl
  output:
    isoform_results_file:
      class: File
      location: upstream.isoforms.results
      size: 16907
    genome_bam_file:
      class: File
      location: upstream.genome.bam
    alleles_results_file: null
    transcript_sorted_bam_bai_pair:
      class: File
      location: upstream.transcript.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.transcript.sorted.bam.bai
    genome_sorted_bam_bai_pair:
      class: File
      location: upstream.genome.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.genome.sorted.bam.bai
    transcript_bam_file:
      class: File
      location: upstream.transcript.bam
    align_time_file: null
    gene_results_file:
      class: File
      location: upstream.genes.results
      size: 7870
    stat_folder:
      class: Directory
      basename: upstream.stat
      listing:
      - class: File
        location: upstream.model
      - class: File
        location: upstream.theta
      - class: File
        location: upstream.cnt
    unmapped_reads_number: 32
    mapped_reads_number: 93
    multimapped_reads_number: 0
    total_reads_number: 125

- job: ./rsem-calculate-expression-2.json
  tool: ../tools/rsem-calculate-expression.cwl
  output:
    isoform_results_file:
      class: File
      location: upstream.isoforms.results
      size: 16792
    genome_bam_file:
      class: File
      location: upstream.genome.bam
    alleles_results_file: null
    transcript_sorted_bam_bai_pair:
      class: File
      location: upstream.transcript.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.transcript.sorted.bam.bai
    genome_sorted_bam_bai_pair:
      class: File
      location: upstream.genome.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.genome.sorted.bam.bai
    transcript_bam_file:
      class: File
      location: upstream.transcript.bam
    align_time_file: null
    gene_results_file:
      class: File
      location: upstream.genes.results
      size: 7793
    stat_folder:
      class: Directory
      basename: upstream.stat
      listing:
      - class: File
        location: upstream.model
      - class: File
        location: upstream.theta
      - class: File
        location: upstream.cnt
    unmapped_reads_number: 93
    mapped_reads_number: 32
    multimapped_reads_number: 0
    total_reads_number: 125

- job: ./rsem-calculate-expression-3.json
  tool: ../tools/rsem-calculate-expression.cwl
  output:
    isoform_results_file:
      class: File
      location: upstream.isoforms.results
      size: 16792
    genome_bam_file:
      class: File
      location: upstream.genome.bam
    alleles_results_file: null
    transcript_sorted_bam_bai_pair:
      class: File
      location: upstream.transcript.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.transcript.sorted.bam.bai
    genome_sorted_bam_bai_pair:
      class: File
      location: upstream.genome.sorted.bam
      secondaryFiles:
      - class: File
        location: upstream.genome.sorted.bam.bai
    transcript_bam_file:
      class: File
      location: upstream.transcript.bam
    align_time_file: null
    gene_results_file:
      class: File
      location: upstream.genes.results
      size: 7793
    stat_folder:
      class: Directory
      basename: upstream.stat
      listing:
      - class: File
        location: upstream.model
      - class: File
        location: upstream.theta
      - class: File
        location: upstream.cnt
    unmapped_reads_number: 93
    mapped_reads_number: 32
    multimapped_reads_number: 0
    total_reads_number: 125

- job: ./rsem-calculate-expression-4.json
  tool: ../tools/rsem-calculate-expression.cwl
  output:
    isoform_results_file:
      class: File
      location: output.isoforms.results
      size: 16792
    genome_bam_file:
      class: File
      location: output.genome.bam
    alleles_results_file: null
    transcript_sorted_bam_bai_pair:
      class: File
      location: output.transcript.sorted.bam
      secondaryFiles:
      - class: File
        location: output.transcript.sorted.bam.bai
    genome_sorted_bam_bai_pair:
      class: File
      location: output.genome.sorted.bam
      secondaryFiles:
      - class: File
        location: output.genome.sorted.bam.bai
    transcript_bam_file:
      class: File
      location: output.transcript.bam
    align_time_file: null
    gene_results_file:
      class: File
      location: output.genes.results
      size: 7793
    stat_folder:
      class: Directory
      basename: output.stat
      listing:
      - class: File
        location: output.theta
      - class: File
        location: output.cnt
      - class: File
        location: output.model
    unmapped_reads_number: 93
    mapped_reads_number: 32
    multimapped_reads_number: 0
    total_reads_number: 125

# ========================================================
# samtools-index
# ========================================================

- job: ./samtools-index-1.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam.bai
      size: 1368

- job: ./samtools-index-2.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: output.bai
      size: 1368

- job: ./samtools-index-3.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam.csi
      size: 340

- job: ./samtools-index-4.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: output.csi
      size: 340

- job: ./samtools-index-5.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: output.bai
      size: 1368

- job: ./samtools-index-6.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: output.index
      size: 1368

- job: ./samtools-index-7.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.cram.crai
      size: 49

- job: ./samtools-index-8.json
  tool: ../tools/samtools-index.cwl
  output:
    index_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.cram.crai
      size: 49

# ========================================================
# samtools-rmdup
# ========================================================

- job: ./samtools-rmdup-1.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 10963
      secondaryFiles: []
    rmdup_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_samtools_rmdup_report.txt

- job: ./samtools-rmdup-2.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: res.bam
      size: 10963
      secondaryFiles: []
    rmdup_log:
      class: File
      location: res_samtools_rmdup_report.txt

- job: ./samtools-rmdup-3.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: res.bam
      size: 10963
      secondaryFiles: []
    rmdup_log:
      class: File
      location: res_samtools_rmdup_report.txt

- job: ./samtools-rmdup-4.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles: []
    rmdup_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_samtools_rmdup_report.txt

- job: ./samtools-rmdup-5.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368
    rmdup_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_samtools_rmdup_report.txt

- job: ./samtools-rmdup-6.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles: []
    rmdup_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_samtools_rmdup_report.txt

- job: ./samtools-rmdup-7.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368
    rmdup_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_samtools_rmdup_report.txt

- job: ./samtools-rmdup-8.json
  tool: ../tools/samtools-rmdup.cwl
  output:
    rmdup_output:
      class: File
      location: res.bam
      size: 10963
      secondaryFiles: []
    rmdup_log:
      class: File
      location: res_samtools_rmdup_report.txt

# ========================================================
# samtools-sort
# ========================================================

- job: ./samtools-sort-1.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 10962

- job: ./samtools-sort-2.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034

- job: ./samtools-sort-3.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034

- job: ./samtools-sort-4.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 10823

- job: ./samtools-sort-5.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 10823

- job: ./samtools-sort-6.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: res.sam
      size: 36088

- job: ./samtools-sort-7.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034

- job: ./samtools-sort-8.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: res.sam
      size: 10962

- job: ./samtools-sort-9.json
  tool: ../tools/samtools-sort.cwl
  output:
    sorted_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 10962

# ========================================================
# samtools-sort-index
# ========================================================

- job: ./samtools-sort-index-1.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

- job: ./samtools-sort-index-2.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.csi
        size: 340

- job: ./samtools-sort-index-3.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles: []

- job: ./samtools-sort-index-4.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

- job: ./samtools-sort-index-5.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

- job: ./samtools-sort-index-6.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: coord_sorted.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: coord_sorted.bam.csi
        size: 340

- job: ./samtools-sort-index-7.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

- job: ./samtools-sort-index-8.json
  tool: ../tools/samtools-sort-index.cwl
  output:
    bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      size: 11034
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1368

# ========================================================
# star-alignreads
# ========================================================

- job: ./star-alignreads-1.json
  tool: ../tools/star-alignreads.cwl
  output:
    aligned_file:
      class: File
      location: upstream.Aligned.out.bam
    unmapped_mate_2_file: null
    unmapped_mate_1_file:
      class: File
      location: upstream.Unmapped.out.mate1
    log_sj:
      class: File
      location: upstream.SJ.out.tab
    log_progress:
      class: File
      location: upstream.Log.progress.out
    log_final:
      class: File
      location: upstream.Log.final.out
    log_out:
      class: File
      location: upstream.Log.out
    log_std: null
    uniquely_mapped_reads_number: 100

- job: ./star-alignreads-2.json
  tool: ../tools/star-alignreads.cwl
  output:
    aligned_file:
      class: File
      location: res_Aligned.out.bam
    unmapped_mate_2_file: null
    unmapped_mate_1_file: null
    log_sj:
      class: File
      location: res_SJ.out.tab
    log_progress:
      class: File
      location: res_Log.progress.out
    log_final:
      class: File
      location: res_Log.final.out
    log_out:
      class: File
      location: res_Log.out
    log_std: null
    uniquely_mapped_reads_number: 100

- job: ./star-alignreads-3.json
  tool: ../tools/star-alignreads.cwl
  output:
    aligned_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
    unmapped_mate_2_file: null
    unmapped_mate_1_file: null
    log_sj:
      class: File
      location: chr4_100_mapped_reads.SJ.out.tab
    log_progress:
      class: File
      location: chr4_100_mapped_reads.Log.progress.out
    log_final:
      class: File
      location: chr4_100_mapped_reads.Log.final.out
    log_out:
      class: File
      location: chr4_100_mapped_reads.Log.out
    log_std: null
    uniquely_mapped_reads_number: 94

- job: ./star-alignreads-4.json
  tool: ../tools/star-alignreads.cwl
  output:
    aligned_file:
      class: File
      location: res_Aligned.out.bam
    unmapped_mate_2_file: null
    unmapped_mate_1_file: null
    log_sj:
      class: File
      location: res_SJ.out.tab
    log_progress:
      class: File
      location: res_Log.progress.out
    log_final:
      class: File
      location: res_Log.final.out
    log_out:
      class: File
      location: res_Log.out
    log_std: null
    uniquely_mapped_reads_number: 94

- job: ./star-alignreads-5.json
  tool: ../tools/star-alignreads.cwl
  output:
    aligned_file:
      class: File
      location: res_Aligned.out.bam
    unmapped_mate_1_file:
      class: File
      location: res_Unmapped.out.mate1
    unmapped_mate_2_file:
      class: File
      location: res_Unmapped.out.mate2
    log_sj:
      class: File
      location: res_SJ.out.tab
    log_progress:
      class: File
      location: res_Log.progress.out
    log_final:
      class: File
      location: res_Log.final.out
    log_out:
      class: File
      location: res_Log.out
    log_std: null
    uniquely_mapped_reads_number: 94

# ========================================================
# trimgalore
# ========================================================

- job: ./trimgalore-1.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    trimmed_file_pair:
      class: File
      location: downstream_val_2.fq
      size: 9702
    trimmed_file:
      class: File
      location: upstream_val_1.fq
      size: 9856
    unpaired_file_1:
      class: File
      location: upstream_unpaired_1.fq
      size: 5019
    report_file_pair:
      class: File
      location: downstream.fastq.gz_trimming_report.txt
    unpaired_file_2:
      class: File
      location: downstream_unpaired_2.fq
      size: 0

- job: ./trimgalore-2.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    trimmed_file_pair:
      class: File
      location: downstream_val_2.fq.gz
      size: 3420
    trimmed_file:
      class: File
      location: upstream_val_1.fq.gz
      size: 2379
    unpaired_file_1:
      class: File
      location: upstream_unpaired_1.fq.gz
      size: 1368
    report_file_pair:
      class: File
      location: downstream.fastq.gz_trimming_report.txt
    unpaired_file_2:
      class: File
      location: downstream_unpaired_2.fq.gz
      size: 20

- job: ./trimgalore-3.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    trimmed_file_pair: null
    trimmed_file:
      class: File
      location: upstream_trimmed.fq.gz
      size: 3648
    unpaired_file_1: null
    report_file_pair: null
    unpaired_file_2: null

- job: ./trimgalore-4.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    trimmed_file_pair: null
    trimmed_file:
      class: File
      location: upstream_trimmed.fq.gz
      size: 3648
    unpaired_file_1: null
    report_file_pair: null
    unpaired_file_2: null

- job: ./trimgalore-5.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    trimmed_file_pair: null
    trimmed_file:
      class: File
      location: upstream_trimmed.fq.gz
      size: 3648
    unpaired_file_1: null
    report_file_pair: null
    unpaired_file_2: null

- job: ./trimgalore-6.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file: null
    report_file_pair: null
    trimmed_file:
      class: File
      location: upstream.fastq.gz
      size: 3860
    trimmed_file_pair: null
    unpaired_file_1: null
    unpaired_file_2: null

- job: ./trimgalore-7.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file: null
    report_file_pair: null
    trimmed_file:
      class: File
      location: upstream.fastq.gz
      size: 3860
    trimmed_file_pair: null
    unpaired_file_1: null
    unpaired_file_2: null

- job: ./trimgalore-8.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file: null
    report_file_pair: null
    trimmed_file:
      class: File
      location: upstream.fastq.gz
      size: 3860
    trimmed_file_pair: null
    unpaired_file_1: null
    unpaired_file_2: null

- job: ./trimgalore-9.json
  tool: ../tools/trimgalore.cwl
  output:
    report_file: null
    report_file_pair: null
    trimmed_file:
      class: File
      location: upstream.fastq.gz
      size: 3860
    trimmed_file_pair:
      class: File
      location: downstream.fastq.gz
      size: 5582
    unpaired_file_1: null
    unpaired_file_2: null

# ========================================================
# trimmomatic
# ========================================================

- job: ./trimmomatic-1.json
  tool: ../tools/trimmomatic.cwl
  output:
    upstream_trimmed_unpaired_file: null
    downstream_trimmed_file: null
    upstream_trimmed_file:
      class: File
      location: upstream.trimmed.fastq
      size: 15415
    downstream_trimmed_unpaired_file: null
    log_file: null

- job: ./trimmomatic-2.json
  tool: ../tools/trimmomatic.cwl
  output:
    upstream_trimmed_unpaired_file: null
    downstream_trimmed_file: null
    upstream_trimmed_file:
      class: File
      location: upstream.trimmed.fastq
      size: 15415
    downstream_trimmed_unpaired_file: null
    log_file: null

- job: ./trimmomatic-3.json
  tool: ../tools/trimmomatic.cwl
  output:
    upstream_trimmed_unpaired_file: null
    downstream_trimmed_file: null
    upstream_trimmed_file:
      class: File
      location: upstream.fastq
      size: 15415
    downstream_trimmed_unpaired_file: null
    log_file: null

- job: ./trimmomatic-4.json
  tool: ../tools/trimmomatic.cwl
  output:
    upstream_trimmed_unpaired_file: null
    downstream_trimmed_file:
      class: File
      location: downstream.trimmed.fastq
      size: 15415
    upstream_trimmed_file:
      class: File
      location: upstream.trimmed.fastq
      size: 15415
    downstream_trimmed_unpaired_file: null
    log_file: null

- job: ./trimmomatic-5.json
  tool: ../tools/trimmomatic.cwl
  output:
    upstream_trimmed_unpaired_file: null
    downstream_trimmed_file:
      class: File
      location: downstream.fastq
      size: 15415
    upstream_trimmed_file:
      class: File
      location: upstream.fastq
      size: 15415
    downstream_trimmed_unpaired_file: null
    log_file: null

# ========================================================
# ucsc-bedgraphtobigwig
# ========================================================

- job: ./ucsc-bedgraphtobigwig-1.json
  tool: ../tools/ucsc-bedgraphtobigwig.cwl
  output:
    bigwig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bigWig
      size: 26472

- job: ./ucsc-bedgraphtobigwig-2.json
  tool: ../tools/ucsc-bedgraphtobigwig.cwl
  output:
    bigwig_file:
      class: File
      location: result.bigwig
      size: 26472

# ========================================================
# ucsc-bedtobigbed
# ========================================================

- job: ./ucsc-bedtobigbed-1.json
  tool: ../tools/ucsc-bedtobigbed.cwl
  output:
    bigbed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.bb
      size: 20400

- job: ./ucsc-bedtobigbed-2.json
  tool: ../tools/ucsc-bedtobigbed.cwl
  output:
    bigbed_file:
      class: File
      location: result.bb
      size: 20400

- job: ./ucsc-bedtobigbed-3.json
  tool: ../tools/ucsc-bedtobigbed.cwl
  output:
    bigbed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.bb
      size: 20402

- job: ./ucsc-bedtobigbed-4.json
  tool: ../tools/ucsc-bedtobigbed.cwl
  output:
    bigbed_file:
      class: File
      location: broad_peaks.bb
      size: 13792

- job: ./ucsc-bedtobigbed-5.json
  tool: ../tools/ucsc-bedtobigbed.cwl
  output:
    bigbed_file:
      class: File
      location: broad_peaks.bb
      size: 13795

# ========================================================
# makegff
# ========================================================

- job: ./makegff-1.json
  tool: ../tools/makegff.cwl
  output:
    gff_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks_iaintersect.gff
      size: 225

- job: ./makegff-2.json
  tool: ../tools/makegff.cwl
  output:
    gff_file:
      class: File
      location: custom.gff
      size: 225

- job: ./makegff-3.json
  tool: ../tools/makegff.cwl
  output:
    gff_file:
      class: File
      location: custom.gff
      size: 169

- job: ./makegff-4.json
  tool: ../tools/makegff.cwl
  output:
    gff_file:
      class: File
      location: custom.gff
      size: 225

# ========================================================
# rose
# ========================================================

- job: ./rose-1.json
  tool: ../tools/rose.cwl
  output:
    gff_directory:
      class: Directory
      basename: "gff"
      listing:
      - class: File
        location: custom.gff
        size: 225
      - class: File
        location: custom_20KB_STITCHED_TSS_DISTAL.gff
        size: 315
    mapped_gff_directory:
      class: Directory
      basename: "mappedGFF"
      listing:
      - class: File
        location: custom_20KB_STITCHED_TSS_DISTAL_chr4_100_mapped_reads.Aligned.out.bam_MAPPED.gff
        size: 335
      - class: File
        location: custom_chr4_100_mapped_reads.Aligned.out.bam_MAPPED.gff
        size: 290
    super_enhancers_table:
      class: File
      location: custom_SuperEnhancers.table.txt
      size: 335
    plot_points_pic:
      class: File
      location: custom_Plot_points.png
      size: 23753
    all_enhancers_table:
      class: File
      location: custom_AllEnhancers.table.txt
      size: 652
    gateway_enhancers_bed:
      class: File
      location: custom_Gateway_Enhancers.bed
      size: 246
    gateway_super_enhancers_bed:
      class: File
      location: custom_Gateway_SuperEnhancers.bed
      size: 25
    enhancers_with_super_bed:
      class: File
      location: custom_Enhancers_withSuper.bed
      size: 858
    stitched_enhancer_region_map:
      class: File
      location: custom_20KB_STITCHED_TSS_DISTAL_ENHANCER_REGION_MAP.txt
      size: 410

# ========================================================
# super-enhancer
# ========================================================

- job: ./super-enhancer-1.json
  tool: ../workflows/super-enhancer.cwl
  output:
    png_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.png
      size: 23753
    bigbed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.bb
    gene_names_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.tsv
      size: 481

- job: ./super-enhancer-2.json
  tool: ../workflows/super-enhancer.cwl
  output:
    png_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.png
      size: 23753
    bigbed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.bb
    gene_names_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.tsv
      size: 481

- job: ./super-enhancer-3.json
  tool: ../workflows/super-enhancer.cwl
  output:
    png_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.png
      size: 23560
    bigbed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.bb
    gene_names_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_super_enhancer.tsv
      size: 481

# ========================================================
# custom-bash
# ========================================================

- job: ./custom-bash-1.json
  tool: ../tools/custom-bash.cwl
  output:
    output_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sam
      size: 35485

- job: ./custom-bash-2.json
  tool: ../tools/custom-bash.cwl
  output:
    output_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sam
      size: 35485

- job: ./custom-bash-3.json
  tool: ../tools/custom-bash.cwl
  output:
    output_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sam
      size: 36064

- job: ./custom-bash-4.json
  tool: ../tools/custom-bash.cwl
  output:
    output_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sam
      size: 36089

- job: ./custom-bash-5.json
  tool: ../tools/custom-bash.cwl
  output:
    output_file:
      class: File
      location: concatenated.txt
      size: 273

# ========================================================
# ucsc-bigwigtowig
# ========================================================

- job: ./ucsc-bigwigtowig-1.json
  tool: ../tools/ucsc-bigwigtowig.cwl
  output:
    wig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.wig
      size: 3319

- job: ./ucsc-bigwigtowig-2.json
  tool: ../tools/ucsc-bigwigtowig.cwl
  output:
    wig_file:
      class: File
      location: custom.wig
      size: 3319

- job: ./ucsc-bigwigtowig-3.json
  tool: ../tools/ucsc-bigwigtowig.cwl
  output:
    wig_file:
      class: File
      location: output.wig
      size: 1546

- job: ./ucsc-bigwigtowig-4.json
  tool: ../tools/ucsc-bigwigtowig.cwl
  output:
    wig_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.wig
      size: 0

# ========================================================
# crossmap
# ========================================================

- job: ./crossmap-1.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.sorted.bam.bai
        size: 1408
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.log
      size: 317
    unmap_file: null

- job: ./crossmap-2.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: projected.sorted.bam
      secondaryFiles:
      - class: File
        location: projected.sorted.bam.bai
        size: 1408
    log_file:
      class: File
      location: projected.log
      size: 317
    unmap_file: null

- job: ./crossmap-3.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bedGraph
      size: 3236
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.log
    unmap_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bedGraph.unmap
      size: 46

- job: ./crossmap-4.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: projected.bedGraph
      size: 3236
    log_file:
      class: File
      location: projected.log
    unmap_file:
      class: File
      location: projected.bedGraph.unmap
      size: 46

- job: ./crossmap-5.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bw
      size: 26288
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.log
    unmap_file: null

- job: ./crossmap-6.json
  tool: ../tools/crossmap.cwl
  output:
    projected_file:
      class: File
      location: projected.bw
      size: 26288
    log_file:
      class: File
      location: projected.log
    unmap_file: null

# ========================================================
# halliftover
# ========================================================

- job: ./halliftover-1.json
  tool: ../tools/halliftover.cwl
  output:
    projected_bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.sorted.bed
      size: 190358

- job: ./halliftover-2.json
  tool: ../tools/halliftover.cwl
  output:
    projected_bed_file:
      class: File
      location: output.bedGraph
      size: 190358

# ========================================================
# python-make-biowardrobe-isoforms
# ========================================================

- job: ./python-make-biowardrobe-isoforms-1.json
  tool: ../tools/python-make-biowardrobe-isoforms.cwl
  output:
    biowardrobe_isoforms_file:
      class: File
      location: upstream.isoforms.csv
      size: 16175

- job: ./python-make-biowardrobe-isoforms-2.json
  tool: ../tools/python-make-biowardrobe-isoforms.cwl
  output:
    biowardrobe_isoforms_file:
      class: File
      location: isoforms.csv
      size: 16175

# ========================================================
# homer-make-tag-directory
# ========================================================

- job: ./homer-make-tag-directory-1.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 342
      - class: File
        location: tagCountDistribution.txt
        size: 108

- job: ./homer-make-tag-directory-2.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 356
      - class: File
        location: tagCountDistribution.txt
        size: 108

- job: ./homer-make-tag-directory-3.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 360
      - class: File
        location: tagCountDistribution.txt
        size: 108

- job: ./homer-make-tag-directory-4.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4327
      - class: File
        location: tagLengthDistribution.txt
        size: 468952
      - class: File
        location: tagAutocorrelation.txt
        size: 51920
      - class: File
        location: tagInfo.txt
        size: 363
      - class: File
        location: tagCountDistribution.txt
        size: 97

- job: ./homer-make-tag-directory-5.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4327
      - class: File
        location: tagLengthDistribution.txt
        size: 468952
      - class: File
        location: tagAutocorrelation.txt
        size: 51920
      - class: File
        location: tagInfo.txt
        size: 380
      - class: File
        location: tagCountDistribution.txt
        size: 97

- job: ./homer-make-tag-directory-6.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4327
      - class: File
        location: tagLengthDistribution.txt
        size: 468952
      - class: File
        location: tagAutocorrelation.txt
        size: 51920
      - class: File
        location: tagInfo.txt
        size: 379
      - class: File
        location: tagCountDistribution.txt
        size: 97

- job: ./homer-make-tag-directory-7.json
  tool: ../tools/homer-make-tag-directory.cwl
  output:
    output_tag_folder:
      class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 636
      - class: File
        location: tagLengthDistribution.txt
        size: 3748
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 400
      - class: File
        location: tagCountDistribution.txt
        size: 97

# ========================================================
# deseq-advanced
# ========================================================

- job: ./deseq-advanced-1.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: custom_report.tsv
    read_counts_file:
      class: File
      location: custom_counts.gct
    phenotypes_file:
      class: File
      location: custom_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: custom_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: custom_expression_heatmap.png
    plot_pca:
      class: File
      location: custom_pca_plot.png
    plot_lfc_vs_mean_pdf:
      class: File
      location: custom_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: custom_expression_heatmap.pdf
    plot_pca_pdf:
      class: File
      location: custom_pca_plot.pdf
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-2.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_report.tsv
    read_counts_file:
      class: File
      location: deseq_counts.gct
    phenotypes_file:
      class: File
      location: deseq_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: deseq_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: deseq_expression_heatmap.png
    plot_pca: null
    plot_lfc_vs_mean_pdf:
      class: File
      location: deseq_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: deseq_expression_heatmap.pdf
    plot_pca_pdf: null
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-3.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_report.tsv
    read_counts_file:
      class: File
      location: deseq_counts.gct
    phenotypes_file:
      class: File
      location: deseq_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: deseq_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: deseq_expression_heatmap.png
    plot_pca: null
    plot_lfc_vs_mean_pdf:
      class: File
      location: deseq_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: deseq_expression_heatmap.pdf
    plot_pca_pdf: null
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-4.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_report.tsv
    read_counts_file:
      class: File
      location: deseq_counts.gct
    phenotypes_file:
      class: File
      location: deseq_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: deseq_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: deseq_expression_heatmap.png
    plot_pca: null
    plot_lfc_vs_mean_pdf:
      class: File
      location: deseq_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: deseq_expression_heatmap.pdf
    plot_pca_pdf: null
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-5.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_report.tsv
    read_counts_file:
      class: File
      location: deseq_counts.gct
    phenotypes_file:
      class: File
      location: deseq_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: deseq_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: deseq_expression_heatmap.png
    plot_pca:
      class: File
      location: deseq_pca_plot.png
    plot_lfc_vs_mean_pdf:
      class: File
      location: deseq_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: deseq_expression_heatmap.pdf
    plot_pca_pdf:
      class: File
      location: deseq_pca_plot.pdf
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-6.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_report.tsv
    read_counts_file:
      class: File
      location: deseq_counts.gct
    phenotypes_file:
      class: File
      location: deseq_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: deseq_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: deseq_expression_heatmap.png
    plot_pca:
      class: File
      location: deseq_pca_plot.png
    plot_lfc_vs_mean_pdf:
      class: File
      location: deseq_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: deseq_expression_heatmap.pdf
    plot_pca_pdf:
      class: File
      location: deseq_pca_plot.pdf
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-7.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: custom_report.tsv
    read_counts_file:
      class: File
      location: custom_counts.gct
    phenotypes_file:
      class: File
      location: custom_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: custom_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: custom_expression_heatmap.png
    plot_pca:
      class: File
      location: custom_pca_plot.png
    plot_lfc_vs_mean_pdf:
      class: File
      location: custom_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: custom_expression_heatmap.pdf
    plot_pca_pdf:
      class: File
      location: custom_pca_plot.pdf
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-advanced-8.json
  tool: ../tools/deseq-advanced.cwl
  output:
    diff_expr_file:
      class: File
      location: custom_report.tsv
    read_counts_file:
      class: File
      location: custom_counts.gct
    phenotypes_file:
      class: File
      location: custom_phenotypes.cls
    plot_lfc_vs_mean:
      class: File
      location: custom_ma_plot.png
    gene_expr_heatmap:
      class: File
      location: custom_expression_heatmap.png
    plot_pca:
      class: File
      location: custom_pca_plot.png
    plot_lfc_vs_mean_pdf:
      class: File
      location: custom_ma_plot.pdf
    gene_expr_heatmap_pdf:
      class: File
      location: custom_expression_heatmap.pdf
    plot_pca_pdf:
      class: File
      location: custom_pca_plot.pdf
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

# ========================================================
# group-isoforms
# ========================================================

- job: ./group-isoforms-1.json
  tool: ../tools/group-isoforms.cwl
  output:
    genes_file:
      class: File
      location: u1_1000.genes.tsv
      size: 43255
    common_tss_file:
      class: File
      location: u1_1000.common_tss.tsv
      size: 46428

- job: ./group-isoforms-2.json
  tool: ../tools/group-isoforms.cwl
  output:
    genes_file:
      class: File
      location: 1000.genes.tsv
      size: 43255
    common_tss_file:
      class: File
      location: u1_1000.common_tss.tsv
      size: 46428

- job: ./group-isoforms-3.json
  tool: ../tools/group-isoforms.cwl
  output:
    genes_file:
      class: File
      location: u1_1000.genes.tsv
      size: 43255
    common_tss_file:
      class: File
      location: 1000.common_tss.tsv
      size: 46428

# ========================================================
# heatmap-prepare
# ========================================================

- job: ./heatmap-prepare-1.json
  tool: ../tools/heatmap-prepare.cwl
  output:
    tag_folder:
    - class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 373
      - class: File
        location: tagCountDistribution.txt
        size: 108

- job: ./heatmap-prepare-2.json
  tool: ../tools/heatmap-prepare.cwl
  output:
    tag_folder:
    - class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 373
      - class: File
        location: tagCountDistribution.txt
        size: 108
    - class: Directory
      basename: "copy_chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 383
      - class: File
        location: tagCountDistribution.txt
        size: 108

- job: ./heatmap-prepare-3.json
  tool: ../tools/heatmap-prepare.cwl
  output:
    tag_folder:
    - class: Directory
      basename: "copy_chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 383
      - class: File
        location: tagCountDistribution.txt
        size: 108
    - class: Directory
      basename: "chr4_100_mapped_reads"
      listing:
      - class: File
        location: chr4.tags.tsv
        size: 4092
      - class: File
        location: tagLengthDistribution.txt
        size: 507
      - class: File
        location: tagAutocorrelation.txt
        size: 51918
      - class: File
        location: tagInfo.txt
        size: 373
      - class: File
        location: tagCountDistribution.txt
        size: 108

# ========================================================
# homer-annotate-peaks-hist
# ========================================================

- job: ./homer-annotate-peaks-hist-1.json
  tool: ../tools/homer-annotate-peaks-hist.cwl
  output:
    histogram_file:
      class: File
      location: output.heatmap
      size: 25710

- job: ./homer-annotate-peaks-hist-2.json
  tool: ../tools/homer-annotate-peaks-hist.cwl
  output:
    histogram_file:
      class: File
      location: output.heatmap
      size: 23806

- job: ./homer-annotate-peaks-hist-3.json
  tool: ../tools/homer-annotate-peaks-hist.cwl
  output:
    histogram_file:
      class: File
      location: output.hist

# ========================================================
# split-heatmap
# ========================================================

- job: ./split-heatmap-1.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: heatmap_1.json
        size: 1973

- job: ./split-heatmap-2.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: heatmap_1.json
        size: 1973

- job: ./split-heatmap-3.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: heatmap_1.json
        size: 1973
      - class: File
        location: heatmap_2.json
        size: 1973

- job: ./split-heatmap-4.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: heatmap_1.json
        size: 1973
      - class: File
        location: heatmap_2.json
        size: 1973

- job: ./split-heatmap-5.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: heatmap_1.json
        size: 1973
      - class: File
        location: heatmap_2.json
        size: 1973

- job: ./split-heatmap-6.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.json
        size: 1973
      - class: File
        location: copy_chr4_100_mapped_reads.Aligned.out.json
        size: 1973

- job: ./split-heatmap-7.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.json
        size: 1973

- job: ./split-heatmap-8.json
  tool: ../tools/split-heatmap.cwl
  output:
    refactored_heatmap_file:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.json
        size: 1973

# ========================================================
# heatmap
# ========================================================

- job: ./heatmap-1.json
  tool: ../workflows/heatmap.cwl
  output:
    heatmap_file_raw:
      class: File
      location: default.tsv

- job: ./heatmap-2.json
  tool: ../workflows/heatmap.cwl
  output:
    heatmap_file_raw:
      class: File
      location: default.tsv

# ========================================================
# chipseq-se
# ========================================================

- job: ./chipseq-se-1.json
  tool: ../workflows/chipseq-se.cwl
  output:
    atdp_log:
      class: File
      location: upstream_atdp.log
    atdp_result:
      class: File
      location: upstream_atdp.tsv
      size: 191373
    bambai_pair:
      class: File
      location: upstream.bam
      secondaryFiles:
      - class: File
        location: upstream.bam.bai
        size: 1440
    bigwig:
      class: File
      location: upstream.bigWig
      size: 32950
    bowtie_log:
      class: File
      location: upstream.bw
      size: 168
    fastx_statistics:
      class: File
      location: upstream.fastxstat
      size: 2255
    get_stat_log:
      class: File
      location: upstream.stat
    get_stat_formatted_log:
      class: File
      location: upstream_stats.tsv
    iaintersect_log:
      class: File
      location: upstream_macs_peaks_iaintersect.log
    iaintersect_result:
      class: File
      location: upstream_macs_peaks_iaintersect.tsv
      size: 277
    macs2_broad_peaks: null
    macs2_called_peaks:
      class: File
      location: upstream_macs_peaks.xls
    macs2_fragment_stat:
      class: File
      location: upstream_fragment_stat.tsv
      size: 9
    macs2_gapped_peak: null
    macs2_log:
      class: File
      location: upstream_macs.log
    macs2_moder_r: null
    macs2_narrow_peaks:
      class: File
      location: upstream_macs_peaks.narrowPeak
      size: 70
    macs2_peak_summits:
      class: File
      location: upstream_macs_summits.bed
      size: 46
    samtools_rmdup_log:
      class: File
      location: upstream_samtools_rmdup_report.txt
    estimates_file: null

# ========================================================
# chipseq-pe
# ========================================================

- job: ./chipseq-pe-1.json
  tool: ../workflows/chipseq-pe.cwl
  output:
    atdp_log:
      class: File
      location: upstream_atdp.log
    atdp_result:
      class: File
      location: upstream_atdp.tsv
      size: 139861
    bambai_pair:
      class: File
      location: upstream.bam
      secondaryFiles:
      - class: File
        location: upstream.bam.bai
        size: 1176
    bigwig:
      class: File
      location: upstream.bigWig
      size: 25792
    bowtie_log:
      class: File
      location: upstream.bw
      size: 179
    fastx_statistics_upstream:
      class: File
      location: upstream.fastxstat
      size: 2255
    fastx_statistics_downstream:
      class: File
      location: downstream.fastxstat
      size: 2212
    get_stat_log:
      class: File
      location: upstream.stat
    get_stat_formatted_log:
      class: File
      location: upstream_stats.tsv
    iaintersect_log:
      class: File
      location: upstream_macs_peaks_iaintersect.log
    iaintersect_result:
      class: File
      location: upstream_macs_peaks_iaintersect.tsv
      size: 271
    macs2_broad_peaks: null
    macs2_called_peaks:
      class: File
      location: upstream_macs_peaks.xls
    macs2_fragment_stat:
      class: File
      location: upstream_fragment_stat.tsv
      size: 9
    macs2_gapped_peak: null
    macs2_log:
      class: File
      location: upstream_macs.log
    macs2_moder_r: null
    macs2_narrow_peaks:
      class: File
      location: upstream_macs_peaks.narrowPeak
      size: 70
    macs2_peak_summits:
      class: File
      location: upstream_macs_summits.bed
      size: 46
    samtools_rmdup_log:
      class: File
      location: upstream_samtools_rmdup_report.txt
    estimates_file: null

# ========================================================
# rnaseq-se
# ========================================================

- job: ./rnaseq-se-1.json
  tool: ../workflows/rnaseq-se.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1416
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 32958
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics:
      location: "upstream.fastxstat"
      class: File
      size: 2255
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9216
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7181
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14244
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null

# ========================================================
# rnaseq-pe
# ========================================================

- job: ./rnaseq-pe-1.json
  tool: ../workflows/rnaseq-pe.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1368
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 33657
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics_downstream:
      location: "downstream.fastxstat"
      class: File
      size: 2212
    fastx_statistics_upstream:
      location: "upstream.fastxstat"
      class: File
      size: 2255
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9277
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7227
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14315
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null

# ========================================================
# rnaseq-se-dutp
# ========================================================

- job: ./rnaseq-se-dutp-1.json
  tool: ../workflows/rnaseq-se-dutp.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1416
    bigwig_upstream:
      location: "upstream_upstream.bigWig"
      class: File
      size: 25949
    bigwig_downstream:
      location: "upstream_downstream.bigWig"
      class: File
      size: 25932
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics:
      location: "upstream.fastxstat"
      class: File
      size: 2255
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9170
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7141
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14179
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null

# ========================================================
# rnaseq-pe-dutp
# ========================================================

- job: ./rnaseq-pe-dutp-1.json
  tool: ../workflows/rnaseq-pe-dutp.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1368
    bigwig_upstream:
      location: "upstream_upstream.bigWig"
      class: File
      size: 32779
    bigwig_downstream:
      location: "upstream_downstream.bigWig"
      class: File
      size: 32829
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics_upstream:
      location: "upstream.fastxstat"
      class: File
      size: 2255
    fastx_statistics_downstream:
      location: "downstream.fastxstat"
      class: File
      size: 2212
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9207
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7172
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14222
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null

# ========================================================
# trim-chipseq-se
# ========================================================

- job: ./trim-chipseq-se-1.json
  tool: ../workflows/trim-chipseq-se.cwl
  output:
    atdp_log:
      location: "upstream_atdp.log"
      class: File
    atdp_result:
      location: "upstream_atdp.tsv"
      class: File
      size: 187212
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1440
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 32878
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 168
    fastx_statistics:
      location: "upstream.fastxstat"
      class: File
      size: 2257
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    iaintersect_log:
      location: "upstream_macs_peaks_iaintersect.log"
      class: File
    iaintersect_result:
      location: "upstream_macs_peaks_iaintersect.tsv"
      class: File
      size: 277
    macs2_broad_peaks: null
    macs2_called_peaks:
      location: "upstream_macs_peaks.xls"
      class: File
    macs2_fragment_stat:
      location: "upstream_fragment_stat.tsv"
      class: File
      size: 9
    macs2_gapped_peak: null
    macs2_log:
      location: "upstream_macs.log"
      class: File
    macs2_moder_r: null
    macs2_narrow_peaks:
      location: "upstream_macs_peaks.narrowPeak"
      class: File
      size: 70
    macs2_peak_summits:
      location: "upstream_macs_summits.bed"
      class: File
      size: 46
    samtools_rmdup_log:
      location: "upstream_samtools_rmdup_report.txt"
      class: File
    trim_report:
      location: "upstream.fastq_trimming_report.txt"
      class: File
    estimates_file: null

# ========================================================
# trim-chipseq-pe
# ========================================================

- job: ./trim-chipseq-pe-1.json
  tool: ../workflows/trim-chipseq-pe.cwl
  output:
    atdp_log:
      location: "upstream_atdp.log"
      class: File
    atdp_result:
      location: "upstream_atdp.tsv"
      class: File
      size: 121660
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1056
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 25709
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 178
    fastx_statistics_downstream:
      location: "downstream.fastxstat"
      class: File
      size: 2062
    fastx_statistics_upstream:
      location: "upstream.fastxstat"
      class: File
      size: 2116
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    iaintersect_log:
      location: "upstream_macs_peaks_iaintersect.log"
      class: File
    iaintersect_result:
      location: "upstream_macs_peaks_iaintersect.tsv"
      class: File
      size: 271
    macs2_broad_peaks: null
    macs2_called_peaks:
      location: "upstream_macs_peaks.xls"
      class: File
    macs2_fragment_stat:
      location: "upstream_fragment_stat.tsv"
      class: File
      size: 9
    macs2_gapped_peak: null
    macs2_log:
      location: "upstream_macs.log"
      class: File
    macs2_moder_r: null
    macs2_narrow_peaks:
      location: "upstream_macs_peaks.narrowPeak"
      class: File
      size: 70
    macs2_peak_summits:
      location: "upstream_macs_summits.bed"
      class: File
      size: 46
    samtools_rmdup_log:
      location: "upstream_samtools_rmdup_report.txt"
      class: File
    trim_report_downstream:
      location: "downstream.fastq_trimming_report.txt"
      class: File
    trim_report_upstream:
      location: "upstream.fastq_trimming_report.txt"
      class: File
    estimates_file: null

# ========================================================
# trim-rnaseq-se
# ========================================================

- job: ./trim-rnaseq-se-1.json
  tool: ../workflows/trim-rnaseq-se.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1392
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 33016
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics:
      location: "upstream.fastxstat"
      class: File
      size: 2257
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9208
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7179
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14237
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null
    trim_report:
      location: "upstream.fastq_trimming_report.txt"
      class: File

# ========================================================
# trim-rnaseq-pe
# ========================================================

- job: ./trim-rnaseq-pe-1.json
  tool: ../workflows/trim-rnaseq-pe.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1200
    bigwig:
      location: "upstream.bigWig"
      class: File
      size: 32737
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 135
    fastx_statistics_downstream:
      location: "downstream.fastxstat"
      class: File
      size: 2062
    fastx_statistics_upstream:
      location: "upstream.fastxstat"
      class: File
      size: 2116
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9237
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7202
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14275
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 157
    star_stdout_log: null
    trim_report_downstream:
      location: "downstream.fastq_trimming_report.txt"
      class: File
    trim_report_upstream:
      location: "upstream.fastq_trimming_report.txt"
      class: File

# ========================================================
# trim-rnaseq-se-dutp
# ========================================================

- job: ./trim-rnaseq-se-dutp-1.json
  tool: ../workflows/trim-rnaseq-se-dutp.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1392
    bigwig_downstream:
      location: "upstream_downstream.bigWig"
      class: File
      size: 25918
    bigwig_upstream:
      location: "upstream_upstream.bigWig"
      class: File
      size: 25973
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 137
    fastx_statistics:
      location: "upstream.fastxstat"
      class: File
      size: 2257
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9170
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7141
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14179
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 190
    star_stdout_log: null
    trim_report:
      location: "upstream.fastq_trimming_report.txt"
      class: File

# ========================================================
# trim-rnaseq-pe-dutp
# ========================================================

- job: ./trim-rnaseq-pe-dutp-1.json
  tool: ../workflows/trim-rnaseq-pe-dutp.cwl
  output:
    bambai_pair:
      location: "upstream.bam"
      class: File
      secondaryFiles:
      - location: "upstream.bam.bai"
        class: File
        size: 1200
    bigwig_downstream:
      location: "upstream_downstream.bigWig"
      class: File
      size: 32360
    bigwig_upstream:
      location: "upstream_upstream.bigWig"
      class: File
      size: 32273
    bowtie_log:
      location: "upstream.bw"
      class: File
      size: 135
    fastx_statistics_downstream:
      location: "downstream.fastxstat"
      class: File
      size: 2062
    fastx_statistics_upstream:
      location: "upstream.fastxstat"
      class: File
      size: 2116
    get_stat_log:
      location: "upstream.stat"
      class: File
    get_stat_formatted_log:
      location: "upstream_stats.tsv"
      class: File
    rpkm_common_tss:
      location: "upstream.common_tss.tsv"
      class: File
      size: 9181
    rpkm_genes:
      location: "upstream.genes.tsv"
      class: File
      size: 7146
    rpkm_isoforms:
      location: "upstream.isoforms.csv"
      class: File
      size: 14190
    star_final_log:
      location: "upstream.Log.final.out"
      class: File
    star_out_log:
      location: "upstream.Log.out"
      class: File
    star_progress_log:
      location: "upstream.Log.progress.out"
      class: File
    star_sj_log:
      location: "upstream.SJ.out.tab"
      class: File
      size: 157
    star_stdout_log: null
    trim_report_downstream:
      location: "downstream.fastq_trimming_report.txt"
      class: File
    trim_report_upstream:
      location: "upstream.fastq_trimming_report.txt"
      class: File

# ========================================================
# preseq-lc-extrap
# ========================================================

- job: ./preseq-lc-extrap-1.json
  tool: ../tools/preseq-lc-extrap.cwl
  output:
    estimates_file:
      location: "small.sorted_preseq_estimates.tsv"
      class: File

- job: ./preseq-lc-extrap-2.json
  tool: ../tools/preseq-lc-extrap.cwl
  output:
    estimates_file:
      location: "output.tsv"
      class: File

- job: ./preseq-lc-extrap-3.json
  tool: ../tools/preseq-lc-extrap.cwl
  output:
    estimates_file: null
  doc: with this input BAM file Preseq should fail, but CommandLineTool won't fail

- job: ./preseq-lc-extrap-4.json
  tool: ../tools/preseq-lc-extrap.cwl
  output:
    estimates_file: null
  doc: with this input BAM file Preseq should fail, but CommandLineTool won't fail

# ========================================================
# bismark-prepare-genome
# ========================================================

- job: ./bismark-prepare-genome-1.json
  tool: ../tools/bismark-prepare-genome.cwl
  output:
    indices_folder:
      basename: fasta
      class: Directory
      listing:
      - basename: chr4.fasta.gz
        class: File
      - basename: chr4.fa.fai
        class: File
      - basename: ribo.fa
        class: File
      - basename: meme.fa
        class: File
      - basename: chr4.fasta
        class: File
      - basename: chr4.fa.gz
        class: File
      - basename: info.txt
        class: File
      - basename: chr4.fa
        class: File
      - basename: Bisulfite_Genome
        class: Directory
        listing:
        - basename: GA_conversion
          class: Directory
          listing:
          - basename: BS_GA.1.bt2
            class: File
          - basename: BS_GA.4.bt2
            class: File
          - basename: genome_mfa.GA_conversion.fa
            class: File
          - basename: BS_GA.3.bt2
            class: File
          - basename: BS_GA.rev.1.bt2
            class: File
          - basename: BS_GA.2.bt2
            class: File
          - basename: BS_GA.rev.2.bt2
            class: File
        - basename: CT_conversion
          class: Directory
          listing:
          - basename: BS_CT.rev.2.bt2
            class: File
          - basename: BS_CT.4.bt2
            class: File
          - basename: BS_CT.2.bt2
            class: File
          - basename: BS_CT.1.bt2
            class: File
          - basename: BS_CT.rev.1.bt2
            class: File
          - basename: genome_mfa.CT_conversion.fa
            class: File
          - basename: BS_CT.3.bt2
            class: File
    stderr_log:
      class: File
      location: bismark_build_stderr.log
    stdout_log:
      class: File
      location: bismark_build_stdout.log    

# ========================================================
# bismark-align
# ========================================================

- job: ./bismark-align-1.json
  tool: ../tools/bismark-align.cwl
  output:
    bam_file:
      class: File
      location: upstream_bismark_bt2.bam
    alignment_report:
      class: File
      location: upstream_bismark_bt2_SE_report.txt

# ========================================================
# bismark-extract-methylation
# ========================================================

- job: ./bismark-extract-methylation-1.json
  tool: ../tools/bismark-extract-methylation.cwl
  output:
    chg_context_file:
      class: File
      location: CHG_context_upstream_bismark_bt2.txt
      size: 8114
    chh_context_file:
      class: File
      location: CHH_context_upstream_bismark_bt2.txt
      size: 25300
    cpg_context_file:
      class: File
      location: CpG_context_upstream_bismark_bt2.txt
      size: 7680
    mbias_plot:
      class: File
      location: upstream_bismark_bt2.M-bias.txt
      size: 2054
    mbias_plot_png:
      class: File
      location: upstream_bismark_bt2.M-bias_R1.png
    bedgraph_coverage_file:
      class: File
      location: upstream_bismark_bt2.bedGraph.gz
    bismark_coverage_file:
      class: File
      location: upstream_bismark_bt2.bismark.cov.gz
    genome_wide_methylation_report:
      class: File
      location: upstream_bismark_bt2.CpG_report.txt
    splitting_report:
      class: File
      location: upstream_bismark_bt2_splitting_report.txt
      size: 742

# ========================================================
# bismark-methylation-se
# ========================================================

- job: ./bismark-methylation-se-1.json
  tool: ../workflows/bismark-methylation-se.cwl
  output:
    bambai_pair:
      class: File
      location: upstream_trimmed_bismark_bt2.bam
      secondaryFiles:
      - class: File
        location: upstream_trimmed_bismark_bt2.bam.bai
    chg_context_file:
      class: File
      location: CHG_context_upstream_trimmed_bismark_bt2.txt
      size: 7690
    chh_context_file:
      class: File
      location: CHH_context_upstream_trimmed_bismark_bt2.txt
      size: 24576
    cpg_context_file:
      class: File
      location: CpG_context_upstream_trimmed_bismark_bt2.txt
      size: 7497
    mbias_plot:
      class: File
      location: upstream_trimmed_bismark_bt2.M-bias.txt
      size: 2043
    mbias_plot_png:
      class: File
      location: upstream_trimmed_bismark_bt2.M-bias_R1.png
    bedgraph_coverage_file:
      class: File
      location: upstream_trimmed_bismark_bt2.bedGraph.gz
    bismark_coverage_file:
      class: File
      location: upstream_trimmed_bismark_bt2.bismark.cov.gz
    genome_wide_methylation_report:
      class: File
      location: upstream_trimmed_bismark_bt2.CpG_report.txt
      size: 2177458
    splitting_report:
      class: File
      location: upstream_trimmed_bismark_bt2_splitting_report.txt
      size: 750
    collected_report:
      class: File
      location: upstream_trimmed_bismark_bt2_SE_report.html
    bismark_alignment_report:
      class: File
      location: upstream_trimmed_bismark_bt2_SE_report.txt
    collected_report_formatted:
      class: File
      location: collected_report_formatted.tsv
      size: 528
    trim_adapters_report:
      class: File
      location: upstream.fastq_trimming_report.txt

# ========================================================
# samtools-filter
# ========================================================

- job: ./samtools-filter-1.json
  tool: ../tools/samtools-filter.cwl
  output:
    filtered_bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 1312

- job: ./samtools-filter-2.json
  tool: ../tools/samtools-filter.cwl
  output:
    filtered_bam_bai_pair:
      class: File
      location: filtered.bam
      secondaryFiles:
      - class: File
        location: filtered.bam.bai
        size: 1312

- job: ./samtools-filter-3.json
  tool: ../tools/samtools-filter.cwl
  output:
    filtered_bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
        size: 24

# ========================================================
# bismark-report
# ========================================================

- job: ./bismark-report-1.json
  tool: ../tools/bismark-report.cwl
  output:
    collected_report:
      class: File
      location: upstream_bismark_bt2_SE_report.html
      size: 2860497

# ========================================================
# python-get-stat-bismark
# ========================================================

- job: ./python-get-stat-bismark-1.json
  tool: ../tools/python-get-stat-bismark.cwl
  output:
    collected_report_formatted:
      class: File
      location: collected_report_formatted.tsv
      size: 528

# ========================================================
# deeptools-alignmentsieve
# ========================================================

- job: ./deeptools-alignmentsieve-1.json
  tool: ../tools/deeptools-alignmentsieve.cwl
  output:
    filtered_bam_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
    alignmentsieve_log:
      class: File
      location: alignmentsieve.log

- job: ./deeptools-alignmentsieve-2.json
  tool: ../tools/deeptools-alignmentsieve.cwl
  output:
    filtered_bam_file:
      class: File
      location: filtered.bam
    alignmentsieve_log:
      class: File
      location: alignmentsieve.log

# ========================================================
# bedtools-merge
# ========================================================

- job: ./bedtools-merge-1.json
  tool: ../tools/bedtools-merge.cwl
  output:
    merged_bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 153

- job: ./bedtools-merge-2.json
  tool: ../tools/bedtools-merge.cwl
  output:
    merged_bed_file:
      class: File
      location: merged.bed
      size: 153

# ========================================================
# bedtools-intersect
# ========================================================

- job: ./bedtools-intersect-1.json
  tool: ../tools/bedtools-intersect.cwl
  output:
    intersected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 816

- job: ./bedtools-intersect-2.json
  tool: ../tools/bedtools-intersect.cwl
  output:
    intersected_file:
      class: File
      location: intersected.bed
      size: 816

- job: ./bedtools-intersect-3.json
  tool: ../tools/bedtools-intersect.cwl
  output:
    intersected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 200

- job: ./bedtools-intersect-4.json
  tool: ../tools/bedtools-intersect.cwl
  output:
    intersected_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 599

# ========================================================
# bedtools-getfasta
# ========================================================

- job: ./bedtools-getfasta-1.json
  tool: ../tools/bedtools-getfasta.cwl
  output:
    sequences_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.fa
      size: 643678

- job: ./bedtools-getfasta-2.json
  tool: ../tools/bedtools-getfasta.cwl
  output:
    sequences_file:
      class: File
      location: sequences.fa
      size: 643678

# ========================================================
# samtools-stats
# ========================================================

- job: ./samtools-stats-1.json
  tool: ../tools/samtools-stats.cwl
  output:
    log_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.log
    ext_is_section:
      class: File
      location: is_section.tsv
    average_length: 37
    raw_total_sequences: 188
    reads_mapped: 188

- job: ./samtools-stats-2.json
  tool: ../tools/samtools-stats.cwl
  output:
    log_file:
      class: File
      location: statistics.log
    ext_is_section:
      class: File
      location: is_section.tsv
    average_length: 37
    raw_total_sequences: 188
    reads_mapped: 188

# ========================================================
# bedtools-bamtobed
# ========================================================

- job: ./bedtools-bamtobed-1.json
  tool: ../tools/bedtools-bamtobed.cwl
  output:
    bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bed
      size: 13096

- job: ./bedtools-bamtobed-2.json
  tool: ../tools/bedtools-bamtobed.cwl
  output:
    bed_file:
      class: File
      location: file.bed
      size: 13096

# ========================================================
# hopach
# ========================================================

- job: ./hopach-1.json
  tool: ../tools/hopach.cwl
  output:
    clustering_results:
      class: File
      location: hopach_clustering.tsv
    clustering_matrix:
      class: File
      location: hopach_tree.cdt
    clustering_row_dendogram:
      class: File
      location: hopach_tree.gtr
    clustering_column_dendogram: null
    column_clustering_labels:
      class: File
      location: hopach_column_clustering_labels.tsv
    row_distance_matrix_png:
      class: File
      location: hopach_row_dist_matrix.png
    col_distance_matrix_png:
      class: File
      location: hopach_column_dist_matrix.png
    heatmap_png:
      class: File
      location: hopach_heatmap.png
    stdout_log:
      class: File
      location: hopach_stdout.log
    stderr_log:
      class: File
      location: hopach_stderr.log

- job: ./hopach-2.json
  tool: ../tools/hopach.cwl
  output:
    clustering_results:
      class: File
      location: results_clustering.tsv
      size: 42300
    clustering_matrix:
      class: File
      location: results_tree.cdt
    clustering_row_dendogram:
      class: File
      location: results_tree.gtr
    clustering_column_dendogram: null
    column_clustering_labels:
      class: File
      location: results_column_clustering_labels.tsv
      size: 73
    row_distance_matrix_png:
      class: File
      location: results_row_dist_matrix.png
    col_distance_matrix_png:
      class: File
      location: results_column_dist_matrix.png
    heatmap_png:
      class: File
      location: results_heatmap.png
    stdout_log:
      class: File
      location: hopach_stdout.log
    stderr_log:
      class: File
      location: hopach_stderr.log

- job: ./hopach-3.json
  tool: ../tools/hopach.cwl
  output:
    clustering_results:
      class: File
      location: results_clustering.tsv
      size: 73297
    clustering_matrix:
      class: File
      location: results_tree.cdt
    clustering_row_dendogram:
      class: File
      location: results_tree.gtr
    clustering_column_dendogram: null
    column_clustering_labels: null
    row_distance_matrix_png:
      class: File
      location: results_row_dist_matrix.png
    col_distance_matrix_png: null
    heatmap_png:
      class: File
      location: results_heatmap.png
    stdout_log:
      class: File
      location: hopach_stdout.log
    stderr_log:
      class: File
      location: hopach_stderr.log

- job: ./hopach-4.json
  tool: ../tools/hopach.cwl
  output:
    clustering_results:
      class: File
      location: hopach_clustering.tsv
      size: 61273
    clustering_matrix:
      class: File
      location: hopach_tree.cdt
    clustering_row_dendogram: null
    clustering_column_dendogram: null
    column_clustering_labels:
      class: File
      location: hopach_column_clustering_labels.tsv
      size: 58
    row_distance_matrix_png: null
    col_distance_matrix_png:
      class: File
      location: hopach_column_dist_matrix.png
    heatmap_png:
      class: File
      location: hopach_heatmap.png
    stdout_log:
      class: File
      location: hopach_stdout.log
    stderr_log:
      class: File
      location: hopach_stderr.log

- job: ./hopach-5.json
  tool: ../tools/hopach.cwl
  output:
    clustering_results:
      class: File
      location: results_clustering.tsv
      size: 42303
    clustering_matrix:
      class: File
      location: results_tree.cdt
    clustering_row_dendogram:
      class: File
      location: results_tree.gtr
    clustering_column_dendogram: null
    column_clustering_labels:
      class: File
      location: results_column_clustering_labels.tsv
      size: 76
    row_distance_matrix_png:
      class: File
      location: results_row_dist_matrix.png
    col_distance_matrix_png:
      class: File
      location: results_column_dist_matrix.png
    heatmap_png:
      class: File
      location: results_heatmap.png
    stdout_log:
      class: File
      location: hopach_stdout.log
    stderr_log:
      class: File
      location: hopach_stderr.log

# ========================================================
# rgt-thor
# ========================================================

- job: ./rgt-thor-1.json
  tool: ../tools/rgt-thor.cwl
  doc: Shouldn't produce any results
  output:
    cond_1_bigwig_file: null
    cond_2_bigwig_file: null
    diffpeaks_bed_file: null
    diffpeaks_narrowpeak_file: null
    uncor_diffpeaks_bed_file: null
    uncor_diffpeaks_narrowpeak_file: null
    setup_info_file:
      class: File
      location: dummy-setup.info
    stderr_log:
      class: File
      location: thor_stderr.log
    stdout_log:
      class: File
      location: thor_stdout.log

- job: ./rgt-thor-2.json
  tool: ../tools/rgt-thor.cwl
  doc: Shouldn't produce any results
  output:
    cond_1_bigwig_file: null
    cond_2_bigwig_file: null
    diffpeaks_bed_file: null
    diffpeaks_narrowpeak_file: null
    uncor_diffpeaks_bed_file: null
    uncor_diffpeaks_narrowpeak_file: null
    setup_info_file:
      class: File
      location: dummy-setup.info
    stderr_log:
      class: File
      location: thor_stderr.log
    stdout_log:
      class: File
      location: thor_stdout.log

- job: ./rgt-thor-3.json
  tool: ../tools/rgt-thor.cwl
  doc: Shouldn't produce any results
  output:
    cond_1_bigwig_file: null
    cond_2_bigwig_file: null
    diffpeaks_bed_file: null
    diffpeaks_narrowpeak_file: null
    uncor_diffpeaks_bed_file: null
    uncor_diffpeaks_narrowpeak_file: null
    setup_info_file:
      class: File
      location: dummy-setup.info
    stderr_log:
      class: File
      location: thor_stderr.log
    stdout_log:
      class: File
      location: thor_stdout.log

- job: ./rgt-thor-4.json
  tool: ../tools/rgt-thor.cwl
  doc: Shouldn't produce any results
  output:
    cond_1_bigwig_file: null
    cond_2_bigwig_file: null
    diffpeaks_bed_file: null
    diffpeaks_narrowpeak_file: null
    uncor_diffpeaks_bed_file: null
    uncor_diffpeaks_narrowpeak_file: null
    setup_info_file:
      class: File
      location: dummy-setup.info
    stderr_log:
      class: File
      location: thor_stderr.log
    stdout_log:
      class: File
      location: thor_stdout.log

# ========================================================
# satscript
# ========================================================

- job: ./satscript-1.json
  tool: ../tools/satscript.cwl
  output:
    frip_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_frip.png
    islands_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_islands.png
    reads_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_reads.png
    surface_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_surface.png
    saturation_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_saturation.txt

- job: ./satscript-2.json
  tool: ../tools/satscript.cwl
  output:
    frip_file:
      class: File
      location: dummy_frip.png
    islands_file:
      class: File
      location: dummy_islands.png
    reads_file:
      class: File
      location: dummy_reads.png
    surface_file:
      class: File
      location: dummy_surface.png
    saturation_file:
      class: File
      location: dummy_saturation.txt

# ========================================================
# plugin-plot-dna
# ========================================================

- job: ./plugin-plot-dna-1.json
  tool: ../tools/plugin-plot-dna.cwl
  output:
    length_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_length.tsv
      size: 1143
    pileup_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_pileup.tsv
      size: 16
    reads_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_reads.tsv
      size: 9
    png_file:
    - class: File
      location: chr4_100_mapped_reads.Aligned.out_default_001.png
    - class: File
      location: chr4_100_mapped_reads.Aligned.out_default_002.png
    - class: File
      location: chr4_100_mapped_reads.Aligned.out_default_003.png

- job: ./plugin-plot-dna-2.json
  tool: ../tools/plugin-plot-dna.cwl
  output:
    length_file:
      class: File
      location: dummy_length.tsv
      size: 1143
    pileup_file:
      class: File
      location: dummy_pileup.tsv
      size: 16
    reads_file:
      class: File
      location: dummy_reads.tsv
      size: 9
    png_file:
    - class: File
      location: dummy_001.png
    - class: File
      location: dummy_002.png
    - class: File
      location: dummy_003.png

# ========================================================
# plugin-plot-rna
# ========================================================

- job: ./plugin-plot-rna-1.json
  tool: ../tools/plugin-plot-rna.cwl
  output:
    coverage_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_cov.tsv
      size: 402
    rpkm_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_default_rpkm.tsv
      size: 9084
    png_file:
    - class: File
      location: chr4_100_mapped_reads.Aligned.out_default_001.png
    - class: File
      location: chr4_100_mapped_reads.Aligned.out_default_002.png

- job: ./plugin-plot-rna-2.json
  tool: ../tools/plugin-plot-rna.cwl
  output:
    coverage_file:
      class: File
      location: dummy_cov.tsv
      size: 402
    rpkm_file:
      class: File
      location: dummy_rpkm.tsv
      size: 9084
    png_file:
    - class: File
      location: dummy_001.png
    - class: File
      location: dummy_002.png

# ========================================================
# pca
# ========================================================

- job: ./pca-1.json
  tool: ../tools/pca.cwl
  output:
    pca1_vs_pca2_plot:
      class: File
      location: dummy_001.png
    pca2_vs_pca3_plot:
      class: File
      location: dummy_002.png
    variance_plot:
      class: File
      location: dummy_003.png
    pca_3d_plot:
      class: File
      location: dummy_004.png
    pca_3d_html:
      class: File
      location: dummy_pca3d.html
    pca_file:
      class: File
      location: dummy_pca.tsv
    stdout_log:
      class: File
      location: pca_stdout.log
    stderr_log:
      class: File
      location: pca_stderr.log

- job: ./pca-2.json
  tool: ../tools/pca.cwl
  output:
    pca1_vs_pca2_plot:
      class: File
      location: dummy_001.png
    pca2_vs_pca3_plot:
      class: File
      location: dummy_002.png
    variance_plot:
      class: File
      location: dummy_003.png
    pca_3d_plot:
      class: File
      location: dummy_004.png
    pca_3d_html:
      class: File
      location: dummy_pca3d.html
    pca_file:
      class: File
      location: dummy_pca.tsv
    stdout_log:
      class: File
      location: pca_stdout.log
    stderr_log:
      class: File
      location: pca_stderr.log

# ========================================================
# clip-toolkit-tag2peak
# ========================================================

- job: ./clip-toolkit-tag2peak-1.json
  tool: ../tools/clip-toolkit-tag2peak.cwl
  output:
    peaks_bed:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.peaks.bed
      size: 516
    stdout_log:
      class: File
      location: tag2peak_stdout.log
    stderr_log:
      class: File
      location: tag2peak_stderr.log

- job: ./clip-toolkit-tag2peak-2.json
  tool: ../tools/clip-toolkit-tag2peak.cwl
  output:
    peaks_bed:
      class: File
      location: custom.bed
      size: 471
    stdout_log:
      class: File
      location: tag2peak_stdout.log
    stderr_log:
      class: File
      location: tag2peak_stderr.log

# ========================================================
# macs2-callpeak
# ========================================================

- job: ./macs2-callpeak-1.json
  tool: ../tools/macs2-callpeak.cwl
  output:
    broad_peak_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    moder_r_file: null
    treat_pileup_bdg_file: null
    macs_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs.log
    narrow_peak_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 799
    peak_summits_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_summits.bed
      size: 584
    peak_xls_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.xls    

- job: ./macs2-callpeak-2.json
  tool: ../tools/macs2-callpeak.cwl
  output:
    broad_peak_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    moder_r_file: null
    treat_pileup_bdg_file: null
    macs_log:
      class: File
      location: results.log
    narrow_peak_file:
      class: File
      location: results_peaks.narrowPeak
      size: 551
    peak_summits_file:
      class: File
      location: results_summits.bed
      size: 336
    peak_xls_file:
      class: File
      location: results_peaks.xls

- job: ./macs2-callpeak-3.json
  tool: ../tools/macs2-callpeak.cwl
  output:
    broad_peak_file: null
    control_lambda_bdg_file: null
    gapped_peak_file: null
    moder_r_file: null
    treat_pileup_bdg_file: null
    peak_summits_file: null
    macs_log:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs.log
      size: 2269
    narrow_peak_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak
      size: 799
    peak_xls_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.xls
      size: 1919

# ========================================================
# samtools-merge
# ========================================================

- job: ./samtools-merge-1.json
  tool: ../tools/samtools-merge.cwl
  output:
    merged_alignment_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_merged.bam
    stdout_log:
      class: File
      location: samtools_merge_stdout.log
    stderr_log:
      class: File
      location: samtools_merge_stderr.log

- job: ./samtools-merge-2.json
  tool: ../tools/samtools-merge.cwl
  output:
    merged_alignment_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_merged.sam
    stdout_log:
      class: File
      location: samtools_merge_stdout.log
    stderr_log:
      class: File
      location: samtools_merge_stderr.log

- job: ./samtools-merge-3.json
  tool: ../tools/samtools-merge.cwl
  output:
    merged_alignment_file:
      class: File
      location: merged.bam
    stdout_log:
      class: File
      location: samtools_merge_stdout.log
    stderr_log:
      class: File
      location: samtools_merge_stderr.log

- job: ./samtools-merge-4.json
  tool: ../tools/samtools-merge.cwl
  output:
    merged_alignment_file:
      class: File
      location: merged.sam
    stdout_log:
      class: File
      location: samtools_merge_stdout.log
    stderr_log:
      class: File
      location: samtools_merge_stderr.log

# ========================================================
# star-genomegenerate
# ========================================================

- job: ./star-genomegenerate-1.json
  tool: ../tools/star-genomegenerate.cwl
  output:
    indices_folder:
      class: Directory
      basename: star_indices
      listing:
      - class: File
        location: chrStart.txt
      - class: File
        location: chrNameLength.txt
      - class: File
        location: chrLength.txt
      - class: File
        location: sjdbList.fromGTF.out.tab
      - class: File
        location: exonInfo.tab
      - class: File
        location: sjdbList.out.tab
      - class: File
        location: SAindex
      - class: File
        location: chrName.txt
      - class: File
        location: geneInfo.tab
      - class: File
        location: SA
      - class: File
        location: sjdbInfo.txt
      - class: File
        location: exonGeTrInfo.tab
      - class: File
        location: transcriptInfo.tab
      - class: File
        location: Genome
      - class: File
        location: genomeParameters.txt
    chrom_length:
      class: File
      location: chrNameLength.txt
    stdout_log:
      class: File
      location: star_build_stdout.log
    stderr_log:
      class: File
      location: star_build_stderr.log

- job: ./star-genomegenerate-2.json
  tool: ../tools/star-genomegenerate.cwl
  output:
    indices_folder:
      class: Directory
      basename: dm3
      listing:
      - class: File
        location: chrStart.txt
      - class: File
        location: chrNameLength.txt
      - class: File
        location: chrLength.txt
      - class: File
        location: sjdbList.fromGTF.out.tab
      - class: File
        location: exonInfo.tab
      - class: File
        location: sjdbList.out.tab
      - class: File
        location: SAindex
      - class: File
        location: chrName.txt
        size: 5
      - class: File
        location: geneInfo.tab
      - class: File
        location: SA
      - class: File
        location: sjdbInfo.txt
      - class: File
        location: exonGeTrInfo.tab
      - class: File
        location: transcriptInfo.tab
      - class: File
        location: Genome
      - class: File
        location: genomeParameters.txt
    chrom_length:
      class: File
      location: chrNameLength.txt
    stdout_log:
      class: File
      location: star_build_stdout.log
    stderr_log:
      class: File
      location: star_build_stderr.log

# ========================================================
# umi-tools-dedup
# ========================================================

- job: ./umi-tools-dedup-1.json
  tool: ../tools/umi-tools-dedup.cwl
  output:
    dedup_bam_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_dedup.bam
    output_stats:
    - class: File
      location: umi_tools_stats_edit_distance.tsv
    - class: File
      location: umi_tools_stats_per_umi.tsv
    - class: File
      location: umi_tools_stats_per_umi_per_position.tsv
    stdout_log:
      class: File
      location: umi_tools_dedup_stdout.log
    stderr_log:
      class: File
      location: umi_tools_dedup_stderr.log

- job: ./umi-tools-dedup-2.json
  tool: ../tools/umi-tools-dedup.cwl
  output:
    dedup_bam_file:
      class: File
      location: results.bam
    output_stats:
    - class: File
      location: stats_edit_distance.tsv
    - class: File
      location: stats_per_umi.tsv
    - class: File
      location: stats_per_umi_per_position.tsv      
    stdout_log:
      class: File
      location: umi_tools_dedup_stdout.log
    stderr_log:
      class: File
      location: umi_tools_dedup_stderr.log

- job: ./umi-tools-dedup-3.json
  tool: ../tools/umi-tools-dedup.cwl
  output:
    dedup_bam_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
    output_stats: null
    stdout_log:
      class: File
      location: umi_tools_dedup_stdout.log
    stderr_log:
      class: File
      location: umi_tools_dedup_stderr.log

- job: ./umi-tools-dedup-4.json
  tool: ../tools/umi-tools-dedup.cwl
  output:
    dedup_bam_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
    output_stats: null
    stdout_log:
      class: File
      location: umi_tools_dedup_stdout.log
    stderr_log:
      class: File
      location: umi_tools_dedup_stderr.log

# ========================================================
# umi-tools-extract
# ========================================================

- job: ./umi-tools-extract-1.json
  tool: ../tools/umi-tools-extract.cwl
  output:
    umi_fastq_file_1:
      class: File
      location: umi_extracted.fastq
      size: 2725
    stdout_log:
      class: File
      location: umi_tools_extract_stdout.log
    stderr_log:
      class: File
      location: umi_tools_extract_stderr.log

- job: ./umi-tools-extract-2.json
  tool: ../tools/umi-tools-extract.cwl
  output:
    umi_fastq_file_1:
      class: File
      location: umi_extracted_1.fastq
      size: 2817
    umi_fastq_file_2:
      class: File
      location: umi_extracted_2.fastq
      size: 2817
    stdout_log:
      class: File
      location: umi_tools_extract_stdout.log
    stderr_log:
      class: File
      location: umi_tools_extract_stderr.log

# ========================================================
# group-isoforms-batch
# ========================================================

- job: ./group-isoforms-batch-1.json
  tool: ../tools/group-isoforms-batch.cwl
  output:
    common_tss_file:
    - class: File
      location: u1_1000.common_tss.tsv
      size: 46428
    - class: File
      location: u2_1000.common_tss.tsv
      size: 46596
    - class: File
      location: u3_1000.common_tss.tsv
      size: 46741
    genes_file:
    - class: File
      location: u1_1000.genes.tsv
      size: 43255
    - class: File
      location: u2_1000.genes.tsv
      size: 43433
    - class: File
      location: u3_1000.genes.tsv
      size: 43549

# ========================================================
# samtools-faidx
# ========================================================

- job: ./samtools-faidx-1.json
  tool: ../tools/samtools-faidx.cwl
  output:
    fai_file:
      class: File
      location: chr4.fa.fai
      size: 21

# ========================================================
# ucsc-fa-to-twobit
# ========================================================

- job: ./ucsc-fa-to-twobit-1.json
  tool: ../tools/ucsc-fa-to-twobit.cwl
  output:
    twobit_file:
      class: File
      location: chr4.2bit
    stdout_log:
      class: File
      location: fa_to_twobit_stdout.log
    stderr_log:
      class: File
      location: fa_to_twobit_stderr.log

- job: ./ucsc-fa-to-twobit-2.json
  tool: ../tools/ucsc-fa-to-twobit.cwl
  output:
    twobit_file:
      class: File
      location: genome.2bit
    stdout_log:
      class: File
      location: fa_to_twobit_stdout.log
    stderr_log:
      class: File
      location: fa_to_twobit_stderr.log

# ========================================================
# ucsc-twobit-to-fa
# ========================================================

- job: ./ucsc-twobit-to-fa-1.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-2.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-3.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fasta

- job: ./ucsc-twobit-to-fa-4.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-5.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-6.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-7.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-8.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-9.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa

- job: ./ucsc-twobit-to-fa-10.json
  tool: ../tools/ucsc-twobit-to-fa.cwl
  output:
    fasta_file:
      class: File
      location: chr4.fa
  should_fail: true

# ========================================================
# meme-chip
# ========================================================

- job: ./meme-chip-1.json
  tool: ../tools/meme-chip.cwl
  output:
    html_report_file:
      class: File
      location: meme-chip.html
    identified_motifs_file:
      class: File
      location: combined.meme
    results_folder:
      basename: memechip_out
      class: Directory
      listing:
      - basename: meme_tomtom_out
        class: Directory
        listing:
        - basename: tomtom.tsv
          class: File
        - basename: tomtom.xml
          class: File
        - basename: tomtom.html
          class: File
      - basename: seqs-centered
        class: File
      - basename: combined.meme
        class: File
      - basename: seqs-shuffled
        class: File
      - basename: meme.fa
        class: File
      - basename: centrimo_out
        class: Directory
        listing:
        - basename: site_counts.txt
          class: File
        - basename: centrimo.html
          class: File
        - basename: centrimo.tsv
          class: File
      - basename: summary.tsv
        class: File
      - basename: motif_alignment.txt
        class: File
      - basename: spamo_out_1
        class: Directory
        listing:
        - basename: spamo.html
          class: File
        - basename: spamo.tsv
          class: File
      - basename: background
        class: File
      - basename: meme-chip.html
        class: File
      - basename: fimo_out_1
        class: Directory
        listing:
        - basename: fimo.xml
          class: File
        - basename: fimo.html
          class: File
        - basename: cisml.xml
          class: File
        - basename: fimo.gff
          class: File
        - basename: fimo.tsv
          class: File
      - basename: dreme_out
        class: Directory
        listing:
        - basename: dreme.xml
          class: File
        - basename: dreme.txt
          class: File
        - basename: dreme.html
          class: File
      - basename: progress_log.txt
        class: File
      - basename: meme_out
        class: Directory
        listing:
        - basename: meme.html
          class: File
        - basename: logo2.eps
          class: File
        - basename: meme.xml
          class: File
        - basename: logo1.png
          class: File
        - basename: logo_rc1.eps
          class: File
        - basename: logo3.eps
          class: File
        - basename: logo3.png
          class: File
        - basename: logo_rc1.png
          class: File
        - basename: meme.txt
          class: File
        - basename: logo_rc2.eps
          class: File
        - basename: logo_rc2.png
          class: File
        - basename: logo1.eps
          class: File
        - basename: logo_rc3.eps
          class: File
        - basename: logo_rc3.png
          class: File
        - basename: logo2.png
          class: File
    stderr_log:
      class: File
      location: meme_chip_stderr.log
    stdout_log:
      class: File
      location: meme_chip_stdout.log
    summary_file:
      class: File
      location: summary.tsv

- job: ./meme-chip-2.json
  tool: ../tools/meme-chip.cwl
  output:
    html_report_file:
      class: File
      location: meme-chip.html
    identified_motifs_file:
      class: File
      location: combined.meme
    results_folder:
      basename: meme
      class: Directory
      listing:
      - basename: meme_tomtom_out
        class: Directory
        listing:
        - basename: tomtom.tsv
          class: File
        - basename: tomtom.xml
          class: File
        - basename: tomtom.html
          class: File
      - basename: seqs-centered
        class: File
      - basename: combined.meme
        class: File
      - basename: seqs-shuffled
        class: File
      - basename: meme.fa
        class: File
      - basename: centrimo_out
        class: Directory
        listing:
        - basename: site_counts.txt
          class: File
        - basename: centrimo.html
          class: File
        - basename: centrimo.tsv
          class: File
      - basename: summary.tsv
        class: File
      - basename: motif_alignment.txt
        class: File
      - basename: background
        class: File
      - basename: meme-chip.html
        class: File
      - basename: dreme_out
        class: Directory
        listing:
        - basename: dreme.xml
          class: File
        - basename: dreme.txt
          class: File
        - basename: dreme.html
          class: File
      - basename: progress_log.txt
        class: File
      - basename: meme_out
        class: Directory
        listing:
        - basename: meme.html
          class: File
        - basename: logo2.eps
          class: File
        - basename: meme.xml
          class: File
        - basename: logo1.png
          class: File
        - basename: logo_rc1.eps
          class: File
        - basename: logo3.eps
          class: File
        - basename: logo3.png
          class: File
        - basename: logo_rc1.png
          class: File
        - basename: meme.txt
          class: File
        - basename: logo_rc2.eps
          class: File
        - basename: logo_rc2.png
          class: File
        - basename: logo1.eps
          class: File
        - basename: logo_rc3.eps
          class: File
        - basename: logo_rc3.png
          class: File
        - basename: logo2.png
          class: File
    stderr_log:
      class: File
      location: meme_chip_stderr.log
    stdout_log:
      class: File
      location: meme_chip_stdout.log
    summary_file:
      class: File
      location: summary.tsv

# ========================================================
# deseq-lrt
# ========================================================

- job: ./deseq-lrt-1.json
  tool: ../tools/deseq-lrt.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_table.tsv
    ma_plot:
      class: File
      location: deseq_ma_plot.png
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-lrt-2.json
  tool: ../tools/deseq-lrt.cwl
  output:
    diff_expr_file:
      class: File
      location: deseq_table.tsv
    ma_plot:
      class: File
      location: deseq_ma_plot.png
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

- job: ./deseq-lrt-3.json
  tool: ../tools/deseq-lrt.cwl
  output:
    diff_expr_file:
      class: File
      location: results_table.tsv
    ma_plot:
      class: File
      location: results_ma_plot.png
    stdout_log:
      class: File
      location: deseq_stdout.log
    stderr_log:
      class: File
      location: deseq_stderr.log

# ========================================================
# bedtools-slop
# ========================================================

- job: ./bedtools-slop-1.json
  tool: ../tools/bedtools-slop.cwl
  output:
    extended_bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak

- job: ./bedtools-slop-2.json
  tool: ../tools/bedtools-slop.cwl
  output:
    extended_bed_file:
      class: File
      location: extended.narrowPeak

- job: ./bedtools-slop-3.json
  tool: ../tools/bedtools-slop.cwl
  output:
    extended_bed_file:
      class: File
      location: left_right_extended.narrowPeak

# ========================================================
# bedtools-subtract
# ========================================================

- job: ./bedtools-subtract-1.json
  tool: ../tools/bedtools-subtract.cwl
  output:
    difference_bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bed

- job: ./bedtools-subtract-2.json
  tool: ../tools/bedtools-subtract.cwl
  output:
    difference_bed_file:
      class: File
      location: difference.bed

# ========================================================
# bedtools-shuffle
# ========================================================

- job: ./bedtools-shuffle-1.json
  tool: ../tools/bedtools-shuffle.cwl
  output:
    shuffled_bed_file:
      class: File
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.narrowPeak

- job: ./bedtools-shuffle-2.json
  tool: ../tools/bedtools-shuffle.cwl
  output:
    shuffled_bed_file:
      class: File
      location: shuffled.bed

- job: ./bedtools-shuffle-3.json
  tool: ../tools/bedtools-shuffle.cwl
  output:
    shuffled_bed_file:
      class: File
      location: shuffled_excl.bed

- job: ./bedtools-shuffle-4.json
  tool: ../tools/bedtools-shuffle.cwl
  output:
    shuffled_bed_file:
      class: File
      location: shuffled_incl.bed

# ========================================================
# homer-find-motifs
# ========================================================

- job: ./homer-find-motifs-1.json
  tool: ../tools/homer-find-motifs.cwl
  output:
    compressed_results_folder:
      location: meme.tar.gz
      class: File
    known_motifs:
      location: knownResults.html
      class: File
    denovo_motifs:
      location: homerResults.html
      class: File
    stderr_log:
      location: homer_find_motifs_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_stdout.log
      class: File

- job: ./homer-find-motifs-2.json
  tool: ../tools/homer-find-motifs.cwl
  output:
    compressed_results_folder:
      location: motifs.tar.gz
      class: File
    known_motifs:
      location: knownResults.html
      class: File
    denovo_motifs:
      location: homerResults.html
      class: File
    stderr_log:
      location: homer_find_motifs_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_stdout.log
      class: File
    
- job: ./homer-find-motifs-3.json
  tool: ../tools/homer-find-motifs.cwl
  output:
    compressed_results_folder:
      location: motifs
      class: File
    known_motifs: null
    denovo_motifs:
      location: homerResults.html
      class: File
    stderr_log:
      location: homer_find_motifs_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_stdout.log
      class: File

- job: ./homer-find-motifs-4.json
  tool: ../tools/homer-find-motifs.cwl
  output:
    compressed_results_folder:
      location: meme.tar.gz
      class: File
    known_motifs:
      location: knownResults.html
      class: File
    denovo_motifs: null
    stderr_log:
      location: homer_find_motifs_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_stdout.log
      class: File

# ========================================================
# homer-find-motifs-genome
# ========================================================

- job: ./homer-find-motifs-genome-1.json
  tool: ../tools/homer-find-motifs-genome.cwl
  output:
    compressed_results_folder:
      location: chr4_100_mapped_reads.Aligned.out_macs_peaks.tar.gz
      class: File
    known_motifs:
      location: knownResults.html
      class: File
    denovo_motifs: null
    stderr_log:
      location: homer_find_motifs_genome_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_genome_stdout.log
      class: File

- job: ./homer-find-motifs-genome-2.json
  tool: ../tools/homer-find-motifs-genome.cwl
  output:
    compressed_results_folder:
      location: motifs.tar.gz
      class: File
    known_motifs:
      location: knownResults.html
      class: File
    denovo_motifs: null
    stderr_log:
      location: homer_find_motifs_genome_stderr.log
      class: File
    stdout_log:
      location: homer_find_motifs_genome_stdout.log
      class: File

# ========================================================
# tar-compress
# ========================================================

- job: ./tar-compress-1.json
  tool: ../tools/tar-compress.cwl
  output:
    compressed_folder:
      class: File
      location: rsem_bowtie2_dm3_chr4.tar.gz

# ========================================================
# kallisto-index
# ========================================================

- job: ./kallisto-index-1.json
  tool: ../tools/kallisto-index.cwl
  output:
    kallisto_index:
      class: File
      location: chr4.idx
    stdout_log:
      class: File
      location: kallisto_index_stdout.log
    stderr_log:
      class: File
      location: kallisto_index_stderr.log

- job: ./kallisto-index-2.json
  tool: ../tools/kallisto-index.cwl
  output:
    kallisto_index:
      class: File
      location: kallisto.idx
    stdout_log:
      class: File
      location: kallisto_index_stdout.log
    stderr_log:
      class: File
      location: kallisto_index_stderr.log

- job: ./kallisto-index-3.json
  tool: ../tools/kallisto-index.cwl
  output:
    kallisto_index:
      class: File
      location: kallisto.idx
    stdout_log:
      class: File
      location: kallisto_index_stdout.log
    stderr_log:
      class: File
      location: kallisto_index_stderr.log

# ========================================================
# gffread
# ========================================================

- job: ./gffread-1.json
  tool: ../tools/gffread.cwl
  output:
    transcriptome_fasta_file:
      class: File
      location: chr4.fa
    stdout_log:
      class: File
      location: gffread_stdout.log
    stderr_log:
      class: File
      location: gffread_stderr.log

- job: ./gffread-2.json
  tool: ../tools/gffread.cwl
  output:
    transcriptome_fasta_file:
      class: File
      location: transcriptome.fa
    stdout_log:
      class: File
      location: gffread_stdout.log
    stderr_log:
      class: File
      location: gffread_stderr.log

# ========================================================
# genome-kallisto-index
# ========================================================

- job: ./genome-kallisto-index-1.json
  tool: ../tools/genome-kallisto-index.cwl
  output:
    transcriptome_fasta_file:
      class: File
      location: chr4.fa
    kallisto_index:
      class: File
      location: chr4.idx
    kallisto_stdout_log:
      class: File
      location: kallisto_index_stdout.log
    kallisto_stderr_log:
      class: File
      location: kallisto_index_stderr.log

- job: ./genome-kallisto-index-2.json
  tool: ../tools/genome-kallisto-index.cwl
  output:
    transcriptome_fasta_file:
      class: File
      location: chr4.fa
    kallisto_index:
      class: File
      location: kallisto.idx
    kallisto_stdout_log:
      class: File
      location: kallisto_index_stdout.log
    kallisto_stderr_log:
      class: File
      location: kallisto_index_stderr.log

# ========================================================
# gseapy
# ========================================================

- job: ./gseapy-1.json
  tool: ../tools/gseapy.cwl
  output:
    enrichment_heatmaps:
    - class: File
      location: HALLMARK_GLYCOLYSIS.heatmap.pdf
    - class: File
      location: HALLMARK_HEME_METABOLISM.heatmap.pdf
    enrichment_plots:
    - class: File
      location: HALLMARK_GLYCOLYSIS.gsea.pdf
    - class: File
      location: HALLMARK_HEME_METABOLISM.gsea.pdf
    enrichment_report:
      class: File
      location: gseapy.gsea.gene_set.report.csv
    stdout_log:
      class: File
      location: gseapy_stdout.log
    stderr_log:
      class: File
      location: gseapy_stderr.log

- job: ./gseapy-2.json
  tool: ../tools/gseapy.cwl
  output:
    enrichment_heatmaps:
    - class: File
      location: HALLMARK_GLYCOLYSIS.heatmap.pdf
    - class: File
      location: HALLMARK_HEME_METABOLISM.heatmap.pdf
    enrichment_plots:
    - class: File
      location: HALLMARK_GLYCOLYSIS.gsea.pdf
    - class: File
      location: HALLMARK_HEME_METABOLISM.gsea.pdf
    enrichment_report:
      class: File
      location: gseapy.gsea.gene_set.report.csv
    stdout_log:
      class: File
      location: gseapy_stdout.log
    stderr_log:
      class: File
      location: gseapy_stderr.log

# ========================================================
# deeptools-computematrix-referencepoint
# ========================================================

- job: ./deeptools-computematrix-referencepoint-1.json
  tool: ../tools/deeptools-computematrix-referencepoint.cwl
  output:
    scores_matrix:
      class: File
      location: output.gz
    stdout_log:
      class: File
      location: compute_matrix_stdout.log
    stderr_log:
      class: File
      location: compute_matrix_stderr.log
  
- job: ./deeptools-computematrix-referencepoint-2.json
  tool: ../tools/deeptools-computematrix-referencepoint.cwl
  output:
    scores_matrix:
      class: File
      location: output.gz
    stdout_log:
      class: File
      location: compute_matrix_stdout.log
    stderr_log:
      class: File
      location: compute_matrix_stderr.log

# ========================================================
# deeptools-plotheatmap.cwl
# ========================================================

- job: ./deeptools-plotheatmap-1.json
  tool: ../tools/deeptools-plotheatmap.cwl
  output:
    heatmap_file:
      class: File
      location: single_score_heatmap.pdf
    stdout_log:
      class: File
      location: plot_heatmap_stdout.log
    stderr_log:
      class: File
      location: plot_heatmap_stderr.log

- job: ./deeptools-plotheatmap-2.json
  tool: ../tools/deeptools-plotheatmap.cwl
  output:
    heatmap_file:
      class: File
      location: single_score_heatmap.pdf
    stdout_log:
      class: File
      location: plot_heatmap_stdout.log
    stderr_log:
      class: File
      location: plot_heatmap_stderr.log

- job: ./deeptools-plotheatmap-3.json
  tool: ../tools/deeptools-plotheatmap.cwl
  output:
    heatmap_file:
      class: File
      location: double_score_heatmap.pdf
    stdout_log:
      class: File
      location: plot_heatmap_stdout.log
    stderr_log:
      class: File
      location: plot_heatmap_stderr.log

- job: ./deeptools-plotheatmap-4.json
  tool: ../tools/deeptools-plotheatmap.cwl
  output:
    heatmap_file:
      class: File
      location: double_score_heatmap.pdf
    stdout_log:
      class: File
      location: plot_heatmap_stdout.log
    stderr_log:
      class: File
      location: plot_heatmap_stderr.log

# ========================================================
# samtools-markdup
# ========================================================

- job: ./samtools-markdup-1.json
  tool: ../tools/samtools-markdup.cwl
  output:
    deduplicated_bam_bai_pair:
      class: File
      location: chr4_100_mapped_reads.Aligned.out.bam
      secondaryFiles:
      - class: File
        location: chr4_100_mapped_reads.Aligned.out.bam.bai
    markdup_report:
      class: File
      location: markdup_report.tsv

- job: ./samtools-markdup-2.json
  tool: ../tools/samtools-markdup.cwl
  output:
    deduplicated_bam_bai_pair:
      class: File
      location: deduplicated.bam
      secondaryFiles:
      - class: File
        location: deduplicated.bam.bai
    markdup_report:
      class: File
      location: markdup_report.tsv

# ========================================================
# gat-run
# ========================================================

- job: ./gat-run-1.json
  tool: ../tools/gat-run.cwl
  output:
    report_file:
      class: File
      location: segments.tsv
    stdout_log:
      class: File
      location: gat_stdout.log
    stderr_log:
      class: File
      location: gat_stderr.log

- job: ./gat-run-2.json
  tool: ../tools/gat-run.cwl
  output:
    report_file:
      class: File
      location: results.tsv
    stdout_log:
      class: File
      location: gat_stdout.log
    stderr_log:
      class: File
      location: gat_stderr.log

# ========================================================
# kb-ref
# ========================================================

- job: ./kb-ref-1.json
  tool: ../tools/kb-ref.cwl
  output:
    kallisto_index_file:
      class: File
      location: chr4_index.idx
    tx_fasta_file:
      class: File
      location: chr4_tx.fasta
    tx_to_gene_mapping_file:
      class: File
      location: chr4_tx_to_gene.tsv
    stdout_log:
      class: File
      location: kb_ref_stdout.log
    stderr_log:
      class: File
      location: kb_ref_stderr.log
    intron_fasta_file: null
    tx_to_capture_mapping_file: null
    intron_tx_to_capture_mapping_file: null
  
- job: ./kb-ref-2.json
  tool: ../tools/kb-ref.cwl
  output:
    kallisto_index_file:
      class: File
      location: kallisto_index.idx
    tx_fasta_file:
      class: File
      location: kallisto_tx.fasta
    tx_to_gene_mapping_file:
      class: File
      location: kallisto_tx_to_gene.tsv
    stdout_log:
      class: File
      location: kb_ref_stdout.log
    stderr_log:
      class: File
      location: kb_ref_stderr.log
    intron_fasta_file: null
    tx_to_capture_mapping_file: null
    intron_tx_to_capture_mapping_file: null

- job: ./kb-ref-3.json
  tool: ../tools/kb-ref.cwl
  output:
    kallisto_index_file:
      class: File
      location: kallisto_index.idx
    tx_fasta_file:
      class: File
      location: kallisto_tx.fasta
    tx_to_gene_mapping_file:
      class: File
      location: kallisto_tx_to_gene.tsv
    stdout_log:
      class: File
      location: kb_ref_stdout.log
    stderr_log:
      class: File
      location: kb_ref_stderr.log
    intron_fasta_file:
      class: File
      location: kallisto_intron.fasta
    tx_to_capture_mapping_file:
      class: File
      location: kallisto_tx_to_capture.tsv
    intron_tx_to_capture_mapping_file:
      class: File
      location: kallisto_intron_tx_to_capture.tsv

- job: ./kb-ref-4.json
  tool: ../tools/kb-ref.cwl
  output:
    kallisto_index_file:
      class: File
      location: kallisto_index.idx
    tx_fasta_file:
      class: File
      location: kallisto_tx.fasta
    tx_to_gene_mapping_file:
      class: File
      location: kallisto_tx_to_gene.tsv
    stdout_log:
      class: File
      location: kb_ref_stdout.log
    stderr_log:
      class: File
      location: kb_ref_stderr.log
    intron_fasta_file:
      class: File
      location: kallisto_intron.fasta
    tx_to_capture_mapping_file:
      class: File
      location: kallisto_tx_to_capture.tsv
    intron_tx_to_capture_mapping_file:
      class: File
      location: kallisto_intron_tx_to_capture.tsv

- job: ./kb-ref-5.json
  tool: ../tools/kb-ref.cwl
  output:
    kallisto_index_file:
      class: File
      location: chr4.fa_index.idx
    tx_fasta_file:
      class: File
      location: chr4.fa_tx.fasta
    tx_to_gene_mapping_file:
      class: File
      location: chr4.fa_tx_to_gene.tsv
    stdout_log:
      class: File
      location: kb_ref_stdout.log
    stderr_log:
      class: File
      location: kb_ref_stderr.log
    intron_fasta_file:
      class: File
      location: chr4.fa_intron.fasta
    tx_to_capture_mapping_file:
      class: File
      location: chr4.fa_tx_to_capture.tsv
    intron_tx_to_capture_mapping_file:
      class: File
      location: chr4.fa_intron_tx_to_capture.tsv

# ========================================================
# bypass-trimgalore-se
# ========================================================

- job: ./bypass-trimgalore-se-1.json
  tool: ../tools/bypass-trimgalore-se.cwl
  output:
    selected_fastq_file:
      class: File
      location: downstream.fastq
    selected_report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt

- job: ./bypass-trimgalore-se-2.json
  tool: ../tools/bypass-trimgalore-se.cwl
  output:
    selected_fastq_file:
      class: File
      location: downstream.fastq
    selected_report_file:
      class: File
      location: upstream.fastq.gz_trimming_report.txt

- job: ./bypass-trimgalore-se-3.json
  tool: ../tools/bypass-trimgalore-se.cwl
  output:
    selected_fastq_file:
      class: File
      location: downstream.fastq
    selected_report_file: null

# ========================================================
# bypass-trimgalore-pe
# ========================================================

- job: ./bypass-trimgalore-pe-1.json
  tool: ../tools/bypass-trimgalore-pe.cwl
  output:
    selected_fastq_file_1:
      class: File
      location: upstream.fastq
    selected_fastq_file_2:
      class: File
      location: downstream.fastq
    selected_report_file_1:
      class: File
      location: upstream.fastq.gz_trimming_report.txt
    selected_report_file_2:
      class: File
      location: downstream.fastq.gz_trimming_report.txt

- job: ./bypass-trimgalore-pe-2.json
  tool: ../tools/bypass-trimgalore-pe.cwl
  output:
    selected_fastq_file_1:
      class: File
      location: upstream.fastq
    selected_fastq_file_2:
      class: File
      location: downstream.fastq
    selected_report_file_1: null
    selected_report_file_2: null

# ========================================================
# feature-merge
# ========================================================

- job: ./feature-merge-1.json
  tool: ../tools/feature-merge.cwl
  output:
    merged_file:
      class: File
      location: merged_report.tsv
    stdout_log:
      class: File
      location: merge_stdout.log
    stderr_log:
      class: File
      location: merge_stderr.log

- job: ./feature-merge-2.json
  tool: ../tools/feature-merge.cwl
  output:
    merged_file:
      class: File
      location: strand_report.tsv
    stdout_log:
      class: File
      location: merge_stdout.log
    stderr_log:
      class: File
      location: merge_stderr.log

- job: ./feature-merge-3.json
  tool: ../tools/feature-merge.cwl
  output:
    merged_file:
      class: File
      location: single_report.tsv
    stdout_log:
      class: File
      location: merge_stdout.log
    stderr_log:
      class: File
      location: merge_stderr.log

- job: ./feature-merge-4.json
  tool: ../tools/feature-merge.cwl
  output:
    merged_file:
      class: File
      location: single_report.tsv
    stdout_log:
      class: File
      location: merge_stdout.log
    stderr_log:
      class: File
      location: merge_stderr.log

# ========================================================
# htseq-count
# ========================================================

- job: ./htseq-count-1.json
  tool: ../tools/htseq-count.cwl
  output:
    gene_expression_report:
      class: File
      location: gene_expression_report.tsv